\hypertarget{communication_2spi__functions_8c}{\section{communication/spi\-\_\-functions.c File Reference}
\label{communication_2spi__functions_8c}\index{communication/spi\-\_\-functions.\-c@{communication/spi\-\_\-functions.\-c}}
}
{\ttfamily \#include \char`\"{}spi\-\_\-functions.\-h\char`\"{}}\\*
Include dependency graph for spi\-\_\-functions.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_2spi__functions_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{communication_2spi__functions_8c_aa90cac659d18e8ef6294c7ae337f6b58}{S\-U\-C\-C\-E\-S\-S}~1
\begin{DoxyCompactList}\small\item\em Modified from S\-P\-I testing utility (using spidev driver) Linux/\-Documentation/spi/spidev\-\_\-test.\-c. \end{DoxyCompactList}\item 
\#define \hyperlink{communication_2spi__functions_8c_a6d58f9ac447476b4e084d7ca383f5183}{F\-A\-I\-L\-U\-R\-E}~0
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{communication_2spi__functions_8c_aabfca8320b0c76774f01467703e17302}{pabort} (const char $\ast$s)
\item 
int \hyperlink{group__spi_ga70764aca888e93b0329e7a62c9312704}{spi\-\_\-init} (uint8\-\_\-t mode, uint32\-\_\-t speed, uint8\-\_\-t cs)
\begin{DoxyCompactList}\small\item\em I\-N\-I\-T\-I\-A\-L\-I\-Z\-E S\-P\-I D\-E\-V\-I\-C\-E. \end{DoxyCompactList}\item 
void \hyperlink{group__spi_ga3fb02c6fc5990df81645306a81291624}{spi\-\_\-end} (int \hyperlink{CommunicationV0_2communication_8c_a4788f0a5355494bc6c13690e28f43783}{spi\-\_\-dev})
\begin{DoxyCompactList}\small\item\em T\-E\-R\-M\-I\-N\-A\-T\-E\-S S\-P\-I D\-E\-V\-I\-C\-E. \end{DoxyCompactList}\item 
int \hyperlink{group__spi_gae385345c227d9f67ab490b94ed628988}{adc\-\_\-read} (int \hyperlink{CommunicationV0_2communication_8c_a4788f0a5355494bc6c13690e28f43783}{spi\-\_\-dev}, uint8\-\_\-t ch, uint8\-\_\-t sgl, short int $\ast$data)
\begin{DoxyCompactList}\small\item\em R\-E\-A\-D D\-A\-T\-A F\-R\-O\-M A/\-D C\-O\-N\-V\-E\-R\-T\-E\-R M\-C\-P3208. \end{DoxyCompactList}\item 
int \hyperlink{group__spi_ga5c52e64c336d59215ce0a4b6f340dc9f}{dac\-\_\-write} (int \hyperlink{CommunicationV0_2communication_8c_a4788f0a5355494bc6c13690e28f43783}{spi\-\_\-dev}, uint8\-\_\-t ch, uint8\-\_\-t \-\_\-shdn, unsigned short int data)
\begin{DoxyCompactList}\small\item\em W\-R\-I\-T\-E D\-A\-T\-A T\-O D/\-A C\-O\-N\-V\-E\-R\-T\-E\-R M\-C\-P3922. \end{DoxyCompactList}\item 
int \hyperlink{group__spi_ga3ae450d2b3ece27bb6036f811a7625a9}{spi\-\_\-trans\-\_\-bytes} (int \hyperlink{CommunicationV0_2communication_8c_a4788f0a5355494bc6c13690e28f43783}{spi\-\_\-dev}, uint8\-\_\-t $\ast$send, uint8\-\_\-t $\ast$receive, int n)
\begin{DoxyCompactList}\small\item\em T\-R\-A\-N\-S\-F\-E\-R N B\-Y\-T\-E\-S. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static uint8\-\_\-t \hyperlink{communication_2spi__functions_8c_a46a6da6b1936191571fd30b2a749f38c}{bits} = 8
\item 
static uint16\-\_\-t \hyperlink{communication_2spi__functions_8c_adc4674f6ea53803d98fa2ec36759e77d}{delay}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{communication_2spi__functions_8c_a6d58f9ac447476b4e084d7ca383f5183}{\index{communication/spi\-\_\-functions.\-c@{communication/spi\-\_\-functions.\-c}!F\-A\-I\-L\-U\-R\-E@{F\-A\-I\-L\-U\-R\-E}}
\index{F\-A\-I\-L\-U\-R\-E@{F\-A\-I\-L\-U\-R\-E}!communication/spi_functions.c@{communication/spi\-\_\-functions.\-c}}
\subsubsection[{F\-A\-I\-L\-U\-R\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-I\-L\-U\-R\-E~0}}\label{communication_2spi__functions_8c_a6d58f9ac447476b4e084d7ca383f5183}


Definition at line 9 of file spi\-\_\-functions.\-c.



Referenced by adc\-\_\-read(), dac\-\_\-write(), and spi\-\_\-trans\-\_\-bytes().

\hypertarget{communication_2spi__functions_8c_aa90cac659d18e8ef6294c7ae337f6b58}{\index{communication/spi\-\_\-functions.\-c@{communication/spi\-\_\-functions.\-c}!S\-U\-C\-C\-E\-S\-S@{S\-U\-C\-C\-E\-S\-S}}
\index{S\-U\-C\-C\-E\-S\-S@{S\-U\-C\-C\-E\-S\-S}!communication/spi_functions.c@{communication/spi\-\_\-functions.\-c}}
\subsubsection[{S\-U\-C\-C\-E\-S\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-U\-C\-C\-E\-S\-S~1}}\label{communication_2spi__functions_8c_aa90cac659d18e8ef6294c7ae337f6b58}


Modified from S\-P\-I testing utility (using spidev driver) Linux/\-Documentation/spi/spidev\-\_\-test.\-c. 



Definition at line 8 of file spi\-\_\-functions.\-c.



Referenced by adc\-\_\-read().



\subsection{Function Documentation}
\hypertarget{communication_2spi__functions_8c_aabfca8320b0c76774f01467703e17302}{\index{communication/spi\-\_\-functions.\-c@{communication/spi\-\_\-functions.\-c}!pabort@{pabort}}
\index{pabort@{pabort}!communication/spi_functions.c@{communication/spi\-\_\-functions.\-c}}
\subsubsection[{pabort}]{\setlength{\rightskip}{0pt plus 5cm}int pabort (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{s}
\end{DoxyParamCaption}
)}}\label{communication_2spi__functions_8c_aabfca8320b0c76774f01467703e17302}


Definition at line 11 of file spi\-\_\-functions.\-c.



Referenced by adc\-\_\-read(), dac\-\_\-write(), and spi\-\_\-init().


\begin{DoxyCode}
\{
        perror(s);
        \textcolor{keywordflow}{return} -1;
\}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{communication_2spi__functions_8c_aabfca8320b0c76774f01467703e17302_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{communication_2spi__functions_8c_a46a6da6b1936191571fd30b2a749f38c}{\index{communication/spi\-\_\-functions.\-c@{communication/spi\-\_\-functions.\-c}!bits@{bits}}
\index{bits@{bits}!communication/spi_functions.c@{communication/spi\-\_\-functions.\-c}}
\subsubsection[{bits}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t bits = 8\hspace{0.3cm}{\ttfamily [static]}}}\label{communication_2spi__functions_8c_a46a6da6b1936191571fd30b2a749f38c}


Definition at line 18 of file spi\-\_\-functions.\-c.



Referenced by conv\-\_\-byte\-\_\-hex\-\_\-bin(), and spi\-\_\-init().

\hypertarget{communication_2spi__functions_8c_adc4674f6ea53803d98fa2ec36759e77d}{\index{communication/spi\-\_\-functions.\-c@{communication/spi\-\_\-functions.\-c}!delay@{delay}}
\index{delay@{delay}!communication/spi_functions.c@{communication/spi\-\_\-functions.\-c}}
\subsubsection[{delay}]{\setlength{\rightskip}{0pt plus 5cm}uint16\-\_\-t delay\hspace{0.3cm}{\ttfamily [static]}}}\label{communication_2spi__functions_8c_adc4674f6ea53803d98fa2ec36759e77d}


Definition at line 20 of file spi\-\_\-functions.\-c.



Referenced by adc\-\_\-read(), dac\-\_\-write(), and spi\-\_\-trans\-\_\-bytes().

