\hypertarget{main2_8c}{\section{main2.\-c File Reference}
\label{main2_8c}\index{main2.\-c@{main2.\-c}}
}
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$unistd.\-h$>$}\\*
{\ttfamily \#include $<$signal.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$ncurses.\-h$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
{\ttfamily \#include $<$sys/time.\-h$>$}\\*
{\ttfamily \#include $<$pthread.\-h$>$}\\*
{\ttfamily \#include $<$math.\-h$>$}\\*
{\ttfamily \#include \char`\"{}communication/communication.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}datalogger.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ui.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}main2.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}calibration/calibration.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}task\-Scheduler.\-h\char`\"{}}\\*
Include dependency graph for main2.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{main2_8c_a95fe7f7d25a81aabd1194bac017074d8}{T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}~20000
\item 
\#define \hyperlink{main2_8c_adfe9b03db41d576a3beb124ec44a54d8}{T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}~100000
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa}{f\-\_\-timer\-\_\-task\-\_\-1} (union sigval sigval)
\item 
void \hyperlink{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c}{f\-\_\-timer\-\_\-task\-\_\-2} (union sigval sigval)
\item 
int \hyperlink{main2_8c_a840291bc02cba5474a4cb46a9b9566fe}{main} (void)
\item 
int \hyperlink{main2_8c_a26855b7739897854265d51aa61329390}{periodic\-\_\-task\-\_\-1} (void)
\item 
int \hyperlink{main2_8c_a944f7352f18ed248c1b1143f51edc391}{periodic\-\_\-task\-\_\-2} (void)
\item 
void \hyperlink{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa}{f\-\_\-timer\-\_\-task\-\_\-1} (union sigval sigval)
\item 
void \hyperlink{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c}{f\-\_\-timer\-\_\-task\-\_\-2} (union sigval sigval)
\item 
void \hyperlink{main2_8c_a0e411070b7f487a8ab6a60b180f50e12}{timer\-\_\-start\-\_\-task\-\_\-1} (void)
\item 
void \hyperlink{main2_8c_ae59c93969d017f18e3e38b2f9f7888ca}{timer\-\_\-start\-\_\-task\-\_\-2} (void)
\item 
void \hyperlink{main2_8c_a54bb5066619e443a28ae5601b5ea3642}{timer\-\_\-stop\-\_\-task\-\_\-1} (void)
\item 
void \hyperlink{main2_8c_a0c69dbcb7b2885a2de116b9d690280de}{timer\-\_\-stop\-\_\-task\-\_\-2} (void)
\item 
void \hyperlink{main2_8c_a90885bae1b9535b16e014fb928e98e37}{timer\-\_\-function\-\_\-task\-\_\-1} (void)
\item 
void \hyperlink{main2_8c_a01c18e97a4488be2912eb738b2e7f890}{timer\-\_\-function\-\_\-task\-\_\-2} (void)
\item 
int \hyperlink{main2_8c_a97a188c3a74115770124cf0bf0c1e407}{reset\-\_\-timer} (void)
\item 
int \hyperlink{main2_8c_a5b2b1fdd5e517470c10e84a2b2bcc5c8}{get\-\_\-time} (double $\ast$time\-\_\-control\-\_\-task\-\_\-s, double $\ast$Ts\-\_\-control\-\_\-task\-\_\-s, double $\ast$mean\-\_\-time\-\_\-control\-\_\-task\-\_\-s, double $\ast$t0\-\_\-control\-\_\-task\-\_\-s)
\item 
void \hyperlink{main2_8c_a5f05ce725141ddfab683e059b1cd95ea}{exit\-\_\-program} (void)
\begin{DoxyCompactList}\small\item\em Internal function to end program. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
unsigned char \hyperlink{main2_8c_a525dcecf4685bea1fbf92651ac0401fe}{quittask} =0
\item 
int \hyperlink{main2_8c_a95a859aa805a58cd4c59e172d250de4a}{acquire} =0
\item 
int \hyperlink{main2_8c_ac7af894858cf396a219d632f40afdc8d}{total} = 0
\item 
int \hyperlink{main2_8c_a4f35e5ea2395561d0bd3b2f45612dc2c}{failure} = 0
\item 
timer\-\_\-t \hyperlink{main2_8c_a904a157c5d5f94416cd450f511635af1}{timer\-\_\-task\-\_\-1}
\item 
volatile double \hyperlink{main2_8c_a2a2a647912528f7aa86812528dbfe02f}{t\-\_\-task\-\_\-1\-\_\-global} = 0.\-0
\item 
volatile double \hyperlink{main2_8c_acdaa4a9b0e1be3dfa53b52df6410ad3b}{T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global} = 0.\-0
\item 
volatile double \hyperlink{main2_8c_a738c330c86a365e72ce29ebca3f1e572}{T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global} = 0.\-0
\item 
volatile double \hyperlink{main2_8c_a86222e255aeeb47598a4fc91ab6c2b1a}{T\-\_\-task\-\_\-1\-\_\-min\-\_\-global} = 0.\-0
\item 
volatile double \hyperlink{main2_8c_aa714e30d738039b5bf665742beb31739}{T\-\_\-task\-\_\-1\-\_\-max\-\_\-global} = 0.\-0
\item 
volatile int \hyperlink{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}{task\-\_\-1\-\_\-period\-\_\-us} = \hyperlink{threads__linux_8c_a95fe7f7d25a81aabd1194bac017074d8}{T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}
\item 
volatile int \hyperlink{main2_8c_a764ebf75ba887a9ecf7bf8fe124960e0}{flag\-\_\-task\-\_\-1\-\_\-firstexecution} = 1
\item 
volatile double \hyperlink{main2_8c_a86c2efd6da48b362806cdbb5b1e711d8}{t0} = 0.\-0
\item 
timer\-\_\-t \hyperlink{main2_8c_adf6e8e22925f399f086dea8671f39c08}{timer\-\_\-task\-\_\-2}
\item 
volatile double \hyperlink{main2_8c_a08f794ff34d918d3d34d771e11e4aba3}{t\-\_\-task\-\_\-2\-\_\-global} = 0.\-0
\item 
volatile double \hyperlink{main2_8c_a9629c77cd3dba9d47d15c2e51bdde09d}{T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global} = 0.\-0
\item 
volatile double \hyperlink{main2_8c_af4e19d5a9b24aa56c8ebff6ad1aa2b95}{T\-\_\-task\-\_\-2\-\_\-mean\-\_\-global} = 0.\-0
\item 
volatile double \hyperlink{main2_8c_ab7712cb13ce6206dd138a51e2053e36c}{T\-\_\-task\-\_\-2\-\_\-min\-\_\-global} = 0.\-0
\item 
volatile double \hyperlink{main2_8c_a1cd82006c46f46176730e876d272cc14}{T\-\_\-task\-\_\-2\-\_\-max\-\_\-global} = 0.\-0
\item 
volatile int \hyperlink{main2_8c_a5166d431d5448a1538e75f5469c19c7b}{task\-\_\-2\-\_\-period\-\_\-us} = \hyperlink{threads__linux_8c_adfe9b03db41d576a3beb124ec44a54d8}{T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}
\item 
volatile int \hyperlink{main2_8c_a60e039269ae4a130db1bdbc4a709c437}{flag\-\_\-task\-\_\-2\-\_\-firstexecution} = 1
\item 
unsigned int \hyperlink{main2_8c_a5045187bb0afe92c41ce73bc602fd3ca}{telemetry\-\_\-mode} = \hyperlink{ui_8h_a5f863c47136ccbe4db74101b9a3e83ca}{U\-I\-\_\-\-N\-C\-U\-R\-S\-E\-S\-\_\-\-M\-O\-D\-E}
\item 
int \hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\-\_\-i} =0
\item 
short int \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff} \mbox{[}3\mbox{]}\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}
\item 
\hyperlink{structIMU__PARAM__STRUCT}{I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T} \hyperlink{main2_8c_a9c6b2109fb9402446f92995db60951b5}{imu\-\_\-param}
\item 
\hyperlink{structSPI__PARAM__STRUCT}{S\-P\-I\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T} \hyperlink{main2_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\-\_\-param}
\item 
\hyperlink{structIMU__DATA__STRUCT}{I\-M\-U\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T} \hyperlink{main2_8c_a3cfea12cbe9ca7f1681c950e4cd68606}{imu\-\_\-data}
\item 
\hyperlink{structEFF__DATA__STRUCT}{E\-F\-F\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T} \hyperlink{main2_8c_a5650ece8c3a277c7f158d75ae65265fa}{eff\-\_\-data}
\item 
\hyperlink{structMRA__DATA__STRUCT}{M\-R\-A\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T} \hyperlink{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{mra\-\_\-data}
\item 
\hyperlink{structENC__DATA__STRUCT}{E\-N\-C\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T} \hyperlink{main2_8c_aaa441e18ae805c4f3efb0b5231d1cfe7}{enc\-\_\-data}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{main2_8c_a95fe7f7d25a81aabd1194bac017074d8}{\index{main2.\-c@{main2.\-c}!T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S@{T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}}
\index{T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S@{T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}!main2.c@{main2.\-c}}
\subsubsection[{T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S~20000}}\label{main2_8c_a95fe7f7d25a81aabd1194bac017074d8}


Definition at line 32 of file main2.\-c.



Referenced by main().

\hypertarget{main2_8c_adfe9b03db41d576a3beb124ec44a54d8}{\index{main2.\-c@{main2.\-c}!T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S@{T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}}
\index{T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S@{T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}!main2.c@{main2.\-c}}
\subsubsection[{T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S~100000}}\label{main2_8c_adfe9b03db41d576a3beb124ec44a54d8}


Definition at line 33 of file main2.\-c.



Referenced by main().



\subsection{Function Documentation}
\hypertarget{main2_8c_a5f05ce725141ddfab683e059b1cd95ea}{\index{main2.\-c@{main2.\-c}!exit\-\_\-program@{exit\-\_\-program}}
\index{exit\-\_\-program@{exit\-\_\-program}!main2.c@{main2.\-c}}
\subsubsection[{exit\-\_\-program}]{\setlength{\rightskip}{0pt plus 5cm}void exit\-\_\-program (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a5f05ce725141ddfab683e059b1cd95ea}


Internal function to end program. 



Definition at line 612 of file main2.\-c.



References quittask.


\begin{DoxyCode}
613 \{
614         \hyperlink{main2_8c_a525dcecf4685bea1fbf92651ac0401fe}{quittask} = 1;
615         \textcolor{keywordflow}{return};
616 \}
\end{DoxyCode}
\hypertarget{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa}{\index{main2.\-c@{main2.\-c}!f\-\_\-timer\-\_\-task\-\_\-1@{f\-\_\-timer\-\_\-task\-\_\-1}}
\index{f\-\_\-timer\-\_\-task\-\_\-1@{f\-\_\-timer\-\_\-task\-\_\-1}!main2.c@{main2.\-c}}
\subsubsection[{f\-\_\-timer\-\_\-task\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}void f\-\_\-timer\-\_\-task\-\_\-1 (
\begin{DoxyParamCaption}
\item[{union sigval}]{sigval}
\end{DoxyParamCaption}
)}}\label{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa}


Definition at line 388 of file main2.\-c.



References timer\-\_\-function\-\_\-task\-\_\-1().



Referenced by timer\-\_\-start\-\_\-task(), and timer\-\_\-start\-\_\-task\-\_\-1().


\begin{DoxyCode}
389 \{
390     sigval.sival\_int = 0; \textcolor{comment}{// Remove warning}
391     \hyperlink{main2_8c_a90885bae1b9535b16e014fb928e98e37}{timer\_function\_task\_1}();
392 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa}{\index{main2.\-c@{main2.\-c}!f\-\_\-timer\-\_\-task\-\_\-1@{f\-\_\-timer\-\_\-task\-\_\-1}}
\index{f\-\_\-timer\-\_\-task\-\_\-1@{f\-\_\-timer\-\_\-task\-\_\-1}!main2.c@{main2.\-c}}
\subsubsection[{f\-\_\-timer\-\_\-task\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}void f\-\_\-timer\-\_\-task\-\_\-1 (
\begin{DoxyParamCaption}
\item[{union sigval sigval}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa}


Definition at line 388 of file main2.\-c.



References timer\-\_\-function\-\_\-task\-\_\-1().



Referenced by timer\-\_\-start\-\_\-task(), and timer\-\_\-start\-\_\-task\-\_\-1().


\begin{DoxyCode}
389 \{
390     sigval.sival\_int = 0; \textcolor{comment}{// Remove warning}
391     \hyperlink{main2_8c_a90885bae1b9535b16e014fb928e98e37}{timer\_function\_task\_1}();
392 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c}{\index{main2.\-c@{main2.\-c}!f\-\_\-timer\-\_\-task\-\_\-2@{f\-\_\-timer\-\_\-task\-\_\-2}}
\index{f\-\_\-timer\-\_\-task\-\_\-2@{f\-\_\-timer\-\_\-task\-\_\-2}!main2.c@{main2.\-c}}
\subsubsection[{f\-\_\-timer\-\_\-task\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}void f\-\_\-timer\-\_\-task\-\_\-2 (
\begin{DoxyParamCaption}
\item[{union sigval}]{sigval}
\end{DoxyParamCaption}
)}}\label{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c}


Definition at line 394 of file main2.\-c.



References timer\-\_\-function\-\_\-task\-\_\-2().



Referenced by timer\-\_\-start\-\_\-task\-\_\-2().


\begin{DoxyCode}
395 \{
396     sigval.sival\_int = 0; \textcolor{comment}{// Remove warning}
397     \hyperlink{main2_8c_a01c18e97a4488be2912eb738b2e7f890}{timer\_function\_task\_2}();
398 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c}{\index{main2.\-c@{main2.\-c}!f\-\_\-timer\-\_\-task\-\_\-2@{f\-\_\-timer\-\_\-task\-\_\-2}}
\index{f\-\_\-timer\-\_\-task\-\_\-2@{f\-\_\-timer\-\_\-task\-\_\-2}!main2.c@{main2.\-c}}
\subsubsection[{f\-\_\-timer\-\_\-task\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}void f\-\_\-timer\-\_\-task\-\_\-2 (
\begin{DoxyParamCaption}
\item[{union sigval sigval}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c}


Definition at line 394 of file main2.\-c.



References timer\-\_\-function\-\_\-task\-\_\-2().



Referenced by timer\-\_\-start\-\_\-task\-\_\-2().


\begin{DoxyCode}
395 \{
396     sigval.sival\_int = 0; \textcolor{comment}{// Remove warning}
397     \hyperlink{main2_8c_a01c18e97a4488be2912eb738b2e7f890}{timer\_function\_task\_2}();
398 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a5b2b1fdd5e517470c10e84a2b2bcc5c8}{\index{main2.\-c@{main2.\-c}!get\-\_\-time@{get\-\_\-time}}
\index{get\-\_\-time@{get\-\_\-time}!main2.c@{main2.\-c}}
\subsubsection[{get\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}int get\-\_\-time (
\begin{DoxyParamCaption}
\item[{double $\ast$}]{time\-\_\-control\-\_\-task\-\_\-s, }
\item[{double $\ast$}]{Ts\-\_\-control\-\_\-task\-\_\-s, }
\item[{double $\ast$}]{mean\-\_\-time\-\_\-control\-\_\-task\-\_\-s, }
\item[{double $\ast$}]{t0\-\_\-control\-\_\-task\-\_\-s}
\end{DoxyParamCaption}
)}}\label{main2_8c_a5b2b1fdd5e517470c10e84a2b2bcc5c8}


Definition at line 603 of file main2.\-c.



References S\-U\-C\-C\-E\-S\-S, t0, t\-\_\-task\-\_\-1\-\_\-global, T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global, and task\-\_\-1\-\_\-period\-\_\-us.



Referenced by ui\-\_\-overview\-\_\-data().


\begin{DoxyCode}
604 \{
605     *time\_control\_task\_s = \hyperlink{main2_8c_a2a2a647912528f7aa86812528dbfe02f}{t\_task\_1\_global};
606     *Ts\_control\_task\_s = \hyperlink{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}{task\_1\_period\_us}/1e6;
607     *mean\_time\_control\_task\_s = \hyperlink{main2_8c_a738c330c86a365e72ce29ebca3f1e572}{T\_task\_1\_mean\_global};
608     *t0\_control\_task\_s = \hyperlink{main2_8c_a86c2efd6da48b362806cdbb5b1e711d8}{t0};
609     \textcolor{keywordflow}{return} \hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS};
610 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a5b2b1fdd5e517470c10e84a2b2bcc5c8_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a840291bc02cba5474a4cb46a9b9566fe}{\index{main2.\-c@{main2.\-c}!main@{main}}
\index{main@{main}!main2.c@{main2.\-c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a840291bc02cba5474a4cb46a9b9566fe}


Definition at line 89 of file main2.\-c.



References I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::acc, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-gyr\-::act, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-gyr\-::clk\-\_\-source, S\-P\-I\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::cs, datalogger\-\_\-close(), datalogger\-\_\-init(), D\-A\-T\-A\-L\-O\-G\-G\-E\-R\-\_\-\-R\-U\-N\-N\-I\-N\-G, datalogger\-\_\-status(), datalogger\-\_\-stop(), D\-A\-T\-A\-L\-O\-G\-G\-E\-R\-\_\-\-S\-U\-C\-C\-E\-S\-S, datalogger\-\_\-write\-\_\-file(), devices\-\_\-init(), F\-A\-I\-L\-U\-R\-E, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-acc\-::full\-\_\-res, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::gyr, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::i2c\-\_\-dev, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-gyr\-::lpf\-\_\-bw, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::mag, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-mag\-::meas\-\_\-mode, S\-P\-I\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::mode, mra\-\_\-data, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-mag\-::op\-\_\-mode, quittask, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-acc\-::range, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-mag\-::range, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-acc\-::rate, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-gyr\-::rate, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-mag\-::rate, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::param\-\_\-mag\-::samples\-\_\-avg, S\-P\-I\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::speed, S\-P\-I\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::spi\-\_\-dev, status, S\-U\-C\-C\-E\-S\-S, T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S, T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S, task\-\_\-1\-\_\-period\-\_\-us, timer\-\_\-new\-\_\-task(), timer\-\_\-start\-\_\-task(), timer\-\_\-start\-\_\-task\-\_\-1(), timer\-\_\-start\-\_\-task\-\_\-2(), timer\-\_\-stop\-\_\-task(), timer\-\_\-stop\-\_\-task\-\_\-1(), timer\-\_\-stop\-\_\-task\-\_\-2(), ui\-\_\-close(), ui\-\_\-init(), and ui\-\_\-task().


\begin{DoxyCode}
90 \{
91     \textcolor{keywordtype}{int} \hyperlink{communication_2communication_8c_a6e27f49150e9a14580fb313cc2777e00}{status} = 0;
92     \textcolor{keywordtype}{int} n = 0;
93     \textcolor{keywordtype}{int} return\_value = \hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS};    
94  
95 \textcolor{comment}{// Parameters for IMU and SPI}
96 
97   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a92172e4757d0f8f9135a659e406c12e5}{acc}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__acc_af57da5d956ffa7e49a184326b6b9c738}{full\_res}=1;
98   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a92172e4757d0f8f9135a659e406c12e5}{acc}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__acc_a30e6a318cad098cd8379416705820f95}{rate}=100;
99   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a92172e4757d0f8f9135a659e406c12e5}{acc}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__acc_a26199b298ef2d353192dfbc706bce8cf}{range}=16;
100   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a5a4557868f1af679a1098808397b02ec}{gyr}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__gyr_a5aa70e1e9634411c89aacfbc570cc91c}{rate}=100;
101   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a5a4557868f1af679a1098808397b02ec}{gyr}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__gyr_aa612f7299b43a1bf1fc597688c2fa02d}{lpf\_bw}=188;
102   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a5a4557868f1af679a1098808397b02ec}{gyr}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__gyr_aca3b791cb480f2da4703d4c256a7de48}{clk\_source}=\textcolor{charliteral}{'Z'};
103   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a5a4557868f1af679a1098808397b02ec}{gyr}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__gyr_a909d153e794ec443be04625ce00e4178}{act}=\textcolor{stringliteral}{"XYZ"};
104   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a26b277dcaf05f3842995df888225f6f4}{mag}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__mag_a234de95423b604b05b851ef90890cea1}{rate}=75;
105   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a26b277dcaf05f3842995df888225f6f4}{mag}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__mag_a40ad27ebdb5fde35257b1dc52e40f476}{range}=0;
106   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a26b277dcaf05f3842995df888225f6f4}{mag}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__mag_a52c22cae6940eb39fb72aca66cfeba9a}{samples\_avg}=8;
107   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a26b277dcaf05f3842995df888225f6f4}{mag}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__mag_a1f3536709c05310005d648f339d70c54}{meas\_mode}=0;
108   \hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a26b277dcaf05f3842995df888225f6f4}{mag}.\hyperlink{structIMU__PARAM__STRUCT_1_1param__mag_a39b83b3e9ff5bdcafed0bdf6a2de584b}{op\_mode}=0;
109   
110   \hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}.\hyperlink{structSPI__PARAM__STRUCT_a82c546c99f6c3daed73c1e23426be847}{mode}=0;
111   \hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}.\hyperlink{structSPI__PARAM__STRUCT_a53a8d386594a81eb9bc6f971bfe36c54}{speed}=375000;
112   \hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}.\hyperlink{structSPI__PARAM__STRUCT_ae0d62e0a5554783d710b677a017e246f}{cs}=0;
113   
114    \textcolor{comment}{// printf("\(\backslash\)ngpio186 inicialmente = %d\(\backslash\)n",gpio\_read(GPIO\_S0));}
115   \textcolor{comment}{//printf("gpio10 inicialmente = %d\(\backslash\)n",gpio\_read(GPIO\_SHDN));}
116   
117 \textcolor{comment}{// Initialization}
118 
119   \textcolor{keywordflow}{if}( \hyperlink{communication_2communication_8c_a2d1e523ff70db11ca4096f97af5da000}{devices\_init}(&\hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}, &\hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}, &
      \hyperlink{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{mra\_data})==\hyperlink{calibration_2calibration_8h_a6d58f9ac447476b4e084d7ca383f5183}{FAILURE} )
120   \{
121     perror(\textcolor{stringliteral}{"Unsuccesful devices initialization"});
122     \textcolor{keywordflow}{return} -1;
123   \}
124   \textcolor{keywordflow}{if}( \hyperlink{datalogger_8c_a1977ef253746fd8c008a3641d9822551}{datalogger\_init}()!=\hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS} )
125   \{
126     perror(\textcolor{stringliteral}{"Unsuccesful datalogger initialization"});
127     \textcolor{keywordflow}{return} -1;
128   \}
129   \textcolor{keywordflow}{if}( \hyperlink{group__ui_gab7bfb453918dcc296ff0cea3c79453d0}{ui\_init}() != \hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS})
130   \{
131     perror(\textcolor{stringliteral}{"Unsuccesful user interface initialization"});
132     \textcolor{keywordflow}{return} -1;
133   \}
134   \textcolor{comment}{// enc\_zero\_set(enc\_data)!=SUCCESS ? perror("Unsuccesfull encoder set zero "); return -1;}
135 
136   \textcolor{comment}{//gpio\_write(GPIO\_S0,1);}
137   \textcolor{comment}{//mra\_data.Out\_0=2275;}
138   \textcolor{comment}{//actuate(spi\_param.spi\_dev,&mra\_data);}
139  
140   \textcolor{comment}{//return\_value=FAILURE;}
141   
142     \textcolor{comment}{// Main Loop}
143     \textcolor{keywordflow}{if}(return\_value != \hyperlink{calibration_2calibration_8h_a6d58f9ac447476b4e084d7ca383f5183}{FAILURE})
144     \{
145         \textcolor{comment}{//datalogger\_start();}
146         \hyperlink{main2_8c_a0e411070b7f487a8ab6a60b180f50e12}{timer\_start\_task\_1}();
147         usleep(0.5*\hyperlink{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}{task\_1\_period\_us});
148         \hyperlink{main2_8c_ae59c93969d017f18e3e38b2f9f7888ca}{timer\_start\_task\_2}();
149         usleep(5*\hyperlink{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}{task\_1\_period\_us});
150         
151         \textcolor{keywordflow}{while}(\hyperlink{main2_8c_a525dcecf4685bea1fbf92651ac0401fe}{quittask} == 0)
152         \{
153 \textcolor{preprocessor}{            #if ANU\_COMPILE\_FOR\_OVERO}
154 \textcolor{preprocessor}{}\textcolor{preprocessor}{            #else}
155 \textcolor{preprocessor}{}            \textcolor{comment}{//if(datalogger\_status() == DATALOGGER\_RUNNING) datalogger\_update\_IPC();}
156 \textcolor{preprocessor}{            #endif}
157 \textcolor{preprocessor}{}
158             
159             \textcolor{keywordflow}{if}(++n>100)
160             \{
161               \textcolor{comment}{//printf("n = %d\(\backslash\)n",n);}
162                 \textcolor{keywordflow}{if}(\hyperlink{datalogger_8c_a46fd1290d9ee97d5fc7171e1e0dcb0aa}{datalogger\_status}() == \hyperlink{datalogger_8h_a2cf92051a019c8ec1b5c4f5380758f62}{DATALOGGER\_RUNNING}) 
      \hyperlink{datalogger_8c_a2aedecfce53e1935a41615ceaf378013}{datalogger\_write\_file}();
163                 n = 0;
164             \}
165             usleep(5*\hyperlink{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}{task\_1\_period\_us});
166         \}
167         \hyperlink{datalogger_8c_aae2ffbc6cbf8f1cfecceb42c5139530a}{datalogger\_stop}();
168         \hyperlink{main2_8c_a54bb5066619e443a28ae5601b5ea3642}{timer\_stop\_task\_1}();
169         usleep(\hyperlink{main2_8c_a95fe7f7d25a81aabd1194bac017074d8}{TASK1\_PERIOD\_US});
170         \hyperlink{main2_8c_a0c69dbcb7b2885a2de116b9d690280de}{timer\_stop\_task\_2}();
171         usleep(\hyperlink{main2_8c_adfe9b03db41d576a3beb124ec44a54d8}{TASK2\_PERIOD\_US});
172     \}
173 
174     status = \hyperlink{datalogger_8c_ad22dbe9e235e7ae5737a23796d13ffbd}{datalogger\_close}();
175     \textcolor{keywordflow}{if}(status != \hyperlink{datalogger_8h_abddebaf71d26d40183fccbb1a766b983}{DATALOGGER\_SUCCESS})
176     \{
177         return\_value = \hyperlink{calibration_2calibration_8h_a6d58f9ac447476b4e084d7ca383f5183}{FAILURE};
178     \}
179 
180     status = \hyperlink{group__ui_ga65d8b92b634da17c344458cd57e61f3e}{ui\_close}();
181     \textcolor{keywordflow}{if}(status != \hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS})
182     \{
183         return\_value = \hyperlink{calibration_2calibration_8h_a6d58f9ac447476b4e084d7ca383f5183}{FAILURE};
184     \}
185     
186 \textcolor{comment}{/*}
187 \textcolor{comment}{    status = protocol\_close();}
188 \textcolor{comment}{    if(status != PROTOCOL\_SUCCESS)}
189 \textcolor{comment}{    \{}
190 \textcolor{comment}{        return\_value = FAILURE;}
191 \textcolor{comment}{    \}}
192 \textcolor{comment}{}
193 \textcolor{comment}{    status = control\_close();}
194 \textcolor{comment}{    if(status != CONTROL\_SUCCESS)}
195 \textcolor{comment}{    \{}
196 \textcolor{comment}{        return\_value = FAILURE;}
197 \textcolor{comment}{    \}}
198 \textcolor{comment}{}
199 \textcolor{comment}{    status = estimation\_close(&estimation\_data);}
200 \textcolor{comment}{    if(status != ESTIMATION\_SUCCESS)}
201 \textcolor{comment}{    \{}
202 \textcolor{comment}{        return\_value = FAILURE;}
203 \textcolor{comment}{    \}}
204 \textcolor{comment}{*/}
205      close(\hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a8a870f383fc9ba0b682fdc9b8c0d2734}{i2c\_dev});
206      close(\hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}.\hyperlink{structSPI__PARAM__STRUCT_abe385c44333d268d17cf648c8e371cad}{spi\_dev});
207 
208 
209     \textcolor{keywordflow}{return} return\_value;
210 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a840291bc02cba5474a4cb46a9b9566fe_cgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a26855b7739897854265d51aa61329390}{\index{main2.\-c@{main2.\-c}!periodic\-\_\-task\-\_\-1@{periodic\-\_\-task\-\_\-1}}
\index{periodic\-\_\-task\-\_\-1@{periodic\-\_\-task\-\_\-1}!main2.c@{main2.\-c}}
\subsubsection[{periodic\-\_\-task\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}int periodic\-\_\-task\-\_\-1 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a26855b7739897854265d51aa61329390}


Definition at line 212 of file main2.\-c.



References actuate(), D\-A\-T\-A\-L\-O\-G\-G\-E\-R\-\_\-\-N\-O\-T\-\_\-\-R\-U\-N\-N\-I\-N\-G, D\-A\-T\-A\-L\-O\-G\-G\-E\-R\-\_\-\-R\-U\-N\-N\-I\-N\-G, datalogger\-\_\-set\-\_\-\-Ts(), datalogger\-\_\-status(), datalogger\-\_\-update(), failure, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::i2c\-\_\-dev, read\-\_\-all\-\_\-data(), reset\-\_\-timer(), S\-P\-I\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::spi\-\_\-dev, S\-U\-C\-C\-E\-S\-S, t0, T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global, t\-\_\-task\-\_\-1\-\_\-global, T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global, task\-\_\-1\-\_\-period\-\_\-us, total, and M\-R\-A\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T\-::v\-\_\-ctl.



Referenced by timer\-\_\-function\-\_\-task\-\_\-1().


\begin{DoxyCode}
213 \{
214     \textcolor{comment}{//static int previous\_calibration\_status = CALIBRATION\_NOT\_RUNNING;}
215     \textcolor{comment}{//int current\_calibration\_status; // Used to detect lowering edge}
216     \textcolor{keyword}{static} \textcolor{keywordtype}{int} previous\_datalogger\_status = \hyperlink{datalogger_8h_a1a224da36800f52f56f30619849f7f5d}{DATALOGGER\_NOT\_RUNNING};
217     \textcolor{keywordtype}{int} current\_datalogger\_status; \textcolor{comment}{// Used to detect rising edge}
218     \textcolor{keywordtype}{char} user =0;
219    \textcolor{comment}{/* int buff\_i=0; //i of buffer}
220 \textcolor{comment}{    int i, j, k, equal=0;}
221 \textcolor{comment}{    short int buff[3][3][3]; //\{acc,gyr,mag\}\{x,y,z\}\{i=1,2,3\}}
222 \textcolor{comment}{*/}
223 
224     \textcolor{comment}{// Main communication/control thread}
225 
226     \textcolor{comment}{//Acquire}
227     \hyperlink{main_8c_ac7af894858cf396a219d632f40afdc8d}{total}++;
228     \textcolor{keywordflow}{if}( \hyperlink{communication_2communication_8c_a26f82e8af3b5ce23d5cd3a41db6e0b68}{read\_all\_data}(\hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a8a870f383fc9ba0b682fdc9b8c0d2734}{i2c\_dev}, \hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}.
      \hyperlink{structSPI__PARAM__STRUCT_abe385c44333d268d17cf648c8e371cad}{spi\_dev}, &\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}, &\hyperlink{main2_8c_a5650ece8c3a277c7f158d75ae65265fa}{eff\_data}, &\hyperlink{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{mra\_data}, &
      \hyperlink{main_8c_aaa441e18ae805c4f3efb0b5231d1cfe7}{enc\_data}) != \hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS})
229       \hyperlink{main_8c_a4f35e5ea2395561d0bd3b2f45612dc2c}{failure}++;
230         \textcolor{comment}{/*buff\_i=buff\_i%5;}
231 \textcolor{comment}{        buff[0][0][buff\_i]=imu\_data.acc.x;}
232 \textcolor{comment}{        buff[0][1][buff\_i]=imu\_data.acc.y;}
233 \textcolor{comment}{        buff[0][2][buff\_i]=imu\_data.acc.z;}
234 \textcolor{comment}{        buff[1][0][buff\_i]=imu\_data.gyr.x;}
235 \textcolor{comment}{        buff[1][0][buff\_i]=imu\_data.gyr.x;}
236 \textcolor{comment}{        buff[1][1][buff\_i]=imu\_data.gyr.y;}
237 \textcolor{comment}{        buff[1][2][buff\_i]=imu\_data.gyr.z;}
238 \textcolor{comment}{        buff[2][0][buff\_i]=imu\_data.mag.x;}
239 \textcolor{comment}{        buff[2][1][buff\_i]=imu\_data.mag.y;}
240 \textcolor{comment}{        buff[2][2][buff\_i]=imu\_data.mag.z;}
241 \textcolor{comment}{        buff\_i++;}
242 \textcolor{comment}{        }
243 \textcolor{comment}{        for( i=0; i<3; i++)}
244 \textcolor{comment}{        \{}
245 \textcolor{comment}{          }
246 \textcolor{comment}{          for( j=0; j<3; j++)}
247 \textcolor{comment}{            for( k=1; k<3; k++)}
248 \textcolor{comment}{            \{}
249 \textcolor{comment}{              if( buff[i][j][k]==buff[i][j][0] )}
250 \textcolor{comment}{                equal=1;}
251 \textcolor{comment}{              else}
252 \textcolor{comment}{                equal=0;}
253 \textcolor{comment}{            \}}
254 \textcolor{comment}{          if( equal==1)}
255 \textcolor{comment}{            i=3;}
256 \textcolor{comment}{        \}}
257 \textcolor{comment}{        if( equal==1 )}
258 \textcolor{comment}{        \{}
259 \textcolor{comment}{          devices\_init(&imu\_param, &spi\_param, &mra\_data);}
260 \textcolor{comment}{          equal=0;}
261 \textcolor{comment}{        \}*/}
262 \textcolor{comment}{/*    if(read\_all\_data(imu\_param.i2c\_dev, spi\_param.spi\_dev, &imu\_data, &eff\_data) != SUCCESS)}
263 \textcolor{comment}{    \{}
264 \textcolor{comment}{        failure++;}
265 \textcolor{comment}{    \}}
266 \textcolor{comment}{*/}
267     \textcolor{comment}{// Calibrate and Estimate}
268     \textcolor{comment}{//calibrate\_all(&imu\_data);}
269     \textcolor{comment}{//calibration\_calibrate\_all(&pwm\_read\_data, &scp1000\_data, &battery\_data, &gps\_data, &imu\_data,
       &pitot\_data, &sonar\_data, &calibration\_local\_coordinate\_system\_data, &calibration\_altimeter\_data,
       &calibration\_local\_fields\_data, &gps\_measure, &imu\_measure, &magnetometer\_measure);}
270     \textcolor{comment}{//estimation\_update\_state\_estimate(&estimation\_data, &gps\_measure, &imu\_measure, &magnetometer\_measure,
       &sonar\_measure, &calibration\_local\_fields\_data, task\_1\_period\_us/(double)1e6);}
271 
272     \textcolor{comment}{// Control}
273     \hyperlink{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{mra\_data}.\hyperlink{structMRA__DATA__STRUCT_a64b4e6bb604e58de593a60c87942b966}{v\_ctl}=1275+(uint8\_t)(800*cosf(\hyperlink{main2_8c_a2a2a647912528f7aa86812528dbfe02f}{t\_task\_1\_global}*1000));
274     \textcolor{comment}{//control\_main\_task(t\_task\_1\_global, &pwm\_write\_data, &pwm\_read\_data, &control\_data, &estimation\_data);}
275 
276     \textcolor{comment}{// Actuate}
277     \hyperlink{communication_2communication_8c_a1d5f01d0124cff7030b5c4951b4bbefa}{actuate}(\hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}.\hyperlink{structSPI__PARAM__STRUCT_abe385c44333d268d17cf648c8e371cad}{spi\_dev}, &\hyperlink{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{mra\_data});
278     \textcolor{comment}{//protocol\_send\_actuation\_data(&pwm\_write\_data);}
279 
280     \textcolor{comment}{// Log}
281     \textcolor{comment}{/*user=getch();}
282 \textcolor{comment}{    switch(user)\{}
283 \textcolor{comment}{      case 'e': }
284 \textcolor{comment}{        exit\_program();}
285 \textcolor{comment}{        break;}
286 \textcolor{comment}{      case 'a':}
287 \textcolor{comment}{        acquire=1;}
288 \textcolor{comment}{        break;}
289 \textcolor{comment}{      case 's':}
290 \textcolor{comment}{        acquire=0;}
291 \textcolor{comment}{        break;}
292 \textcolor{comment}{      default:}
293 \textcolor{comment}{        break;}
294 \textcolor{comment}{    \}*/}
295     current\_datalogger\_status = \hyperlink{datalogger_8c_a46fd1290d9ee97d5fc7171e1e0dcb0aa}{datalogger\_status}();
296     \textcolor{keywordflow}{if}( (current\_datalogger\_status == \hyperlink{datalogger_8h_a2cf92051a019c8ec1b5c4f5380758f62}{DATALOGGER\_RUNNING}))
297     \{
298         \textcolor{keywordflow}{if}(previous\_datalogger\_status == \hyperlink{datalogger_8h_a1a224da36800f52f56f30619849f7f5d}{DATALOGGER\_NOT\_RUNNING}) \textcolor{comment}{// Rising edge}
299         \{
300             \hyperlink{datalogger_8c_afb69d166f8d53042825174cee225ea49}{datalogger\_set\_Ts}(\hyperlink{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}{task\_1\_period\_us}/1e6);
301             \hyperlink{main2_8c_a97a188c3a74115770124cf0bf0c1e407}{reset\_timer}();
302         \}
303         \hyperlink{datalogger_8c_ad89a56e2f057ace8c28d78eb67703e7d}{datalogger\_update}(\hyperlink{main2_8c_a2a2a647912528f7aa86812528dbfe02f}{t\_task\_1\_global}, 
      \hyperlink{main2_8c_acdaa4a9b0e1be3dfa53b52df6410ad3b}{T\_task\_1\_exec\_global}, \hyperlink{main2_8c_a9629c77cd3dba9d47d15c2e51bdde09d}{T\_task\_2\_exec\_global}, 
      \hyperlink{main2_8c_a86c2efd6da48b362806cdbb5b1e711d8}{t0}, &\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}, &\hyperlink{main2_8c_a5650ece8c3a277c7f158d75ae65265fa}{eff\_data}, &\hyperlink{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{mra\_data} \textcolor{comment}{/*&imu\_measure, &magnetometer\_measure,
       &estimation\_data, &control\_data*/});
304   \textcolor{comment}{//printf("\(\backslash\)n    %d\(\backslash\)t|",i);}
305  \textcolor{comment}{/* printw("%d\(\backslash\)t|",eff\_data.F.x);}
306 \textcolor{comment}{    printw("\(\backslash\)t%d\(\backslash\)t%d\(\backslash\)t%d\(\backslash\)t|",imu\_data.acc.x,imu\_data.acc.y,imu\_data.acc.z);}
307 \textcolor{comment}{    printw("\(\backslash\)t%d\(\backslash\)t%d\(\backslash\)t%d\(\backslash\)t|",imu\_data.mag.x,imu\_data.mag.y,imu\_data.mag.z);}
308 \textcolor{comment}{    printw("\(\backslash\)t%d\(\backslash\)t%d\(\backslash\)t%d\(\backslash\)t%d",imu\_data.gyr.x,imu\_data.gyr.y,imu\_data.gyr.z, imu\_data.temp);}
309 \textcolor{comment}{    printw("\(\backslash\)t%d\(\backslash\)t%d",eff\_data.new\_data,imu\_data.new\_data);}
310 \textcolor{comment}{    printw("\(\backslash\)t%d\(\backslash\)t%d",mra\_data.Out\_0, mra\_data.Read\_0);}
311 \textcolor{comment}{    printw("\(\backslash\)n");}
312 \textcolor{comment}{    refresh();*/}
313     \}
314     previous\_datalogger\_status = current\_datalogger\_status;
315 
316 \textcolor{comment}{/*    current\_calibration\_status = calibration\_get\_status();}
317 \textcolor{comment}{    if(current\_calibration\_status == CALIBRATION\_RUNNING)}
318 \textcolor{comment}{    \{}
319 \textcolor{comment}{        calibration\_imu\_add\_sample\_bias\_estimate(&imu\_data);}
320 \textcolor{comment}{        calibration\_altimeter\_add\_sample\_initial\_pressure(&scp1000\_data, &calibration\_altimeter\_data);}
321 \textcolor{comment}{    \}}
322 \textcolor{comment}{    else // Calibration not running}
323 \textcolor{comment}{    \{}
324 \textcolor{comment}{        if(previous\_calibration\_status == CALIBRATION\_RUNNING) // Lowering edge}
325 \textcolor{comment}{        \{}
326 \textcolor{comment}{            calibration\_imu\_finish\_bias\_estimate(&imu\_data);}
327 \textcolor{comment}{            calibration\_altimeter\_finish\_initial\_pressure\_estimate(&calibration\_altimeter\_data);}
328 \textcolor{comment}{        \}}
329 \textcolor{comment}{    \}}
330 \textcolor{comment}{    previous\_calibration\_status = current\_calibration\_status;}
331 \textcolor{comment}{*/}
332     \textcolor{keywordflow}{return} \hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS};
333 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a26855b7739897854265d51aa61329390_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a26855b7739897854265d51aa61329390_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a944f7352f18ed248c1b1143f51edc391}{\index{main2.\-c@{main2.\-c}!periodic\-\_\-task\-\_\-2@{periodic\-\_\-task\-\_\-2}}
\index{periodic\-\_\-task\-\_\-2@{periodic\-\_\-task\-\_\-2}!main2.c@{main2.\-c}}
\subsubsection[{periodic\-\_\-task\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}int periodic\-\_\-task\-\_\-2 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a944f7352f18ed248c1b1143f51edc391}


Definition at line 335 of file main2.\-c.



References I\-M\-U\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T\-::acc, buff, buff\-\_\-i, devices\-\_\-init(), failure, I\-M\-U\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T\-::gyr, I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::i2c\-\_\-dev, I\-M\-U\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T\-::mag, S\-P\-I\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T\-::spi\-\_\-dev, S\-U\-C\-C\-E\-S\-S, telemetry\-\_\-mode, total, U\-I\-\_\-\-N\-C\-U\-R\-S\-E\-S\-\_\-\-M\-O\-D\-E, ui\-\_\-update(), D\-A\-T\-A\-\_\-\-X\-Y\-Z\-::x, D\-A\-T\-A\-\_\-\-X\-Y\-Z\-::y, and D\-A\-T\-A\-\_\-\-X\-Y\-Z\-::z.



Referenced by timer\-\_\-function\-\_\-task\-\_\-2().


\begin{DoxyCode}
336 \{
337 
338     \textcolor{keywordtype}{int} i, j, k, equal=0;
339 
340     \textcolor{comment}{// UI thread}
341     \textcolor{keywordflow}{if}(\hyperlink{main2_8c_a5045187bb0afe92c41ce73bc602fd3ca}{telemetry\_mode} == \hyperlink{ui_8h_a5f863c47136ccbe4db74101b9a3e83ca}{UI\_NCURSES\_MODE})
342     \{
343         \hyperlink{group__ui_ga42e4dac2d138061a74c572358c8ebf49}{ui\_update}(&\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}, &\hyperlink{main2_8c_a5650ece8c3a277c7f158d75ae65265fa}{eff\_data}, &\hyperlink{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{mra\_data},&
      \hyperlink{main_8c_aaa441e18ae805c4f3efb0b5231d1cfe7}{enc\_data}, \hyperlink{main_8c_ac7af894858cf396a219d632f40afdc8d}{total}, \hyperlink{main_8c_a4f35e5ea2395561d0bd3b2f45612dc2c}{failure});
344     \}
345                 
346             \hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}=\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}%5;
347         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[0][0][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.acc.x;
348         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[0][1][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.acc.y;
349         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[0][2][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.acc.z;
350         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[1][0][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.gyr.x;
351         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[1][0][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.gyr.x;
352         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[1][1][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.gyr.y;
353         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[1][2][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.gyr.z;
354         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[2][0][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.mag.x;
355         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[2][1][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.mag.y;
356         \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[2][2][\hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}]=\hyperlink{main_8c_a0f81e5b5621e6e2b2467daa7d12268c4}{imu\_data}.mag.z;
357         \hyperlink{main2_8c_ac0f4eb3a1def152855159c698feaf977}{buff\_i}++;
358         
359         \textcolor{keywordflow}{for}( i=0; i<3; i++)
360         \{
361           
362           \textcolor{keywordflow}{for}( j=0; j<3; j++)
363             \textcolor{keywordflow}{for}( k=1; k<3; k++)
364             \{
365               \textcolor{keywordflow}{if}( \hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[i][j][k]==\hyperlink{main2_8c_aaa9d39905d1be632c8232f11155291d0}{buff}[i][j][0] )
366                 equal=1;
367               \textcolor{keywordflow}{else}
368                 equal=0;
369             \}
370           \textcolor{keywordflow}{if}( equal==1)
371             i=3;
372         \}
373         \textcolor{keywordflow}{if}( equal==1 )
374         \{
375           close(\hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}.\hyperlink{structIMU__PARAM__STRUCT_a8a870f383fc9ba0b682fdc9b8c0d2734}{i2c\_dev});
376           close(\hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}.\hyperlink{structSPI__PARAM__STRUCT_abe385c44333d268d17cf648c8e371cad}{spi\_dev});
377           \hyperlink{communication_2communication_8c_a2d1e523ff70db11ca4096f97af5da000}{devices\_init}(&\hyperlink{main_8c_a9c6b2109fb9402446f92995db60951b5}{imu\_param}, &\hyperlink{main_8c_adec2468b88cf50b20e5cf399a3b7e994}{spi\_param}, &
      \hyperlink{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{mra\_data});
378           equal=0;
379         \}
380     \textcolor{comment}{/*if(telemetry\_mode == UI\_MAVLINK\_MODE)}
381 \textcolor{comment}{    \{}
382 \textcolor{comment}{        mavlink\_module\_update(t\_task\_1\_global, t0, &battery\_data, &gps\_data, &imu\_data, &pitot\_data,
       &pwm\_read\_data, &pwm\_write\_data, &scp1000\_data, &sonar\_data, &gps\_measure, &imu\_measure, &magnetometer\_measure,
       &estimation\_data, &control\_data);}
383 \textcolor{comment}{    \}*/}
384 
385     \textcolor{keywordflow}{return} \hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS};
386 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a944f7352f18ed248c1b1143f51edc391_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a944f7352f18ed248c1b1143f51edc391_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a97a188c3a74115770124cf0bf0c1e407}{\index{main2.\-c@{main2.\-c}!reset\-\_\-timer@{reset\-\_\-timer}}
\index{reset\-\_\-timer@{reset\-\_\-timer}!main2.c@{main2.\-c}}
\subsubsection[{reset\-\_\-timer}]{\setlength{\rightskip}{0pt plus 5cm}int reset\-\_\-timer (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a97a188c3a74115770124cf0bf0c1e407}


Definition at line 597 of file main2.\-c.



References S\-U\-C\-C\-E\-S\-S, t0, and t\-\_\-task\-\_\-1\-\_\-global.



Referenced by periodic\-\_\-task\-\_\-1().


\begin{DoxyCode}
598 \{
599     \hyperlink{main2_8c_a86c2efd6da48b362806cdbb5b1e711d8}{t0} = \hyperlink{main2_8c_a2a2a647912528f7aa86812528dbfe02f}{t\_task\_1\_global};
600     \textcolor{keywordflow}{return} \hyperlink{calibration_2calibration_8h_aa90cac659d18e8ef6294c7ae337f6b58}{SUCCESS};
601 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a97a188c3a74115770124cf0bf0c1e407_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a90885bae1b9535b16e014fb928e98e37}{\index{main2.\-c@{main2.\-c}!timer\-\_\-function\-\_\-task\-\_\-1@{timer\-\_\-function\-\_\-task\-\_\-1}}
\index{timer\-\_\-function\-\_\-task\-\_\-1@{timer\-\_\-function\-\_\-task\-\_\-1}!main2.c@{main2.\-c}}
\subsubsection[{timer\-\_\-function\-\_\-task\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}void timer\-\_\-function\-\_\-task\-\_\-1 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a90885bae1b9535b16e014fb928e98e37}


Definition at line 484 of file main2.\-c.



References flag\-\_\-task\-\_\-1\-\_\-firstexecution, periodic\-\_\-task\-\_\-1(), status, t0, T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global, t\-\_\-task\-\_\-1\-\_\-global, T\-\_\-task\-\_\-1\-\_\-max\-\_\-global, T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global, and T\-\_\-task\-\_\-1\-\_\-min\-\_\-global.



Referenced by f\-\_\-timer\-\_\-task\-\_\-1().


\begin{DoxyCode}
485 \{
486     \textcolor{keywordtype}{int} \hyperlink{communication_2communication_8c_a6e27f49150e9a14580fb313cc2777e00}{status} = 0;
487     \textcolor{keyword}{static} \textcolor{keyword}{struct }timeval timereset;
488     \textcolor{keyword}{static} \textcolor{keyword}{struct }timeval time;
489     \textcolor{keyword}{static} \textcolor{keyword}{struct }timeval time\_exec\_start;
490     \textcolor{keyword}{static} \textcolor{keyword}{struct }timeval time\_exec\_end;
491     \textcolor{keyword}{static} \textcolor{keywordtype}{double} T\_task,t\_task,t\_task\_previous;
492     \textcolor{keyword}{static} \textcolor{keywordtype}{double} T\_task\_mean,T\_task\_min,T\_task\_max,T\_task\_exec;
493 
494     gettimeofday(&time\_exec\_start, NULL);
495 
496     \textcolor{comment}{// Time calculation}
497     \textcolor{keywordflow}{if}(\hyperlink{main2_8c_a764ebf75ba887a9ecf7bf8fe124960e0}{flag\_task\_1\_firstexecution})
498     \{
499         gettimeofday(&timereset, NULL);
500         t\_task = 0.0;
501         T\_task\_mean = 0.0;
502         T\_task\_min = 0.0;
503         T\_task\_max = 0.0;
504         T\_task\_exec = 0.0;
505     \}
506 
507     gettimeofday(&time, NULL);
508     t\_task = ((time.tv\_sec - timereset.tv\_sec) + (time.tv\_usec - timereset.tv\_usec)*1e-6);
509     T\_task = t\_task - t\_task\_previous;
510     t\_task\_previous = t\_task;
511 
512     \textcolor{keywordflow}{if}(\hyperlink{main2_8c_a764ebf75ba887a9ecf7bf8fe124960e0}{flag\_task\_1\_firstexecution})
513     \{
514         T\_task\_mean = T\_task;
515         T\_task\_min  = 1e200;
516         T\_task\_max  = 0.0;
517         \hyperlink{main2_8c_a86c2efd6da48b362806cdbb5b1e711d8}{t0} = t\_task;
518     \}
519     \textcolor{keywordflow}{else}
520     \{
521         T\_task\_mean = 0.05*T\_task + 0.95*T\_task\_mean;
522         \textcolor{keywordflow}{if}(T\_task < T\_task\_min) T\_task\_min  = T\_task;
523         \textcolor{keywordflow}{if}(T\_task > T\_task\_max) T\_task\_max  = T\_task;
524     \}
525 
526     \textcolor{comment}{// Run the thread}
527     status = \hyperlink{main2_8c_a26855b7739897854265d51aa61329390}{periodic\_task\_1}();
528 
529     gettimeofday(&time\_exec\_end, NULL);
530     T\_task\_exec = ((time\_exec\_end.tv\_sec - time\_exec\_start.tv\_sec) + (time\_exec\_end.tv\_usec - 
      time\_exec\_start.tv\_usec)*1e-6);
531 
532     \hyperlink{main2_8c_a2a2a647912528f7aa86812528dbfe02f}{t\_task\_1\_global} = t\_task;
533     \hyperlink{main2_8c_a738c330c86a365e72ce29ebca3f1e572}{T\_task\_1\_mean\_global} = T\_task\_mean;
534     \hyperlink{main2_8c_a86222e255aeeb47598a4fc91ab6c2b1a}{T\_task\_1\_min\_global} = T\_task\_min;
535     \hyperlink{main2_8c_aa714e30d738039b5bf665742beb31739}{T\_task\_1\_max\_global} = T\_task\_max;
536     \hyperlink{main2_8c_acdaa4a9b0e1be3dfa53b52df6410ad3b}{T\_task\_1\_exec\_global} = T\_task\_exec;
537 
538     \hyperlink{main2_8c_a764ebf75ba887a9ecf7bf8fe124960e0}{flag\_task\_1\_firstexecution} = 0;
539 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a90885bae1b9535b16e014fb928e98e37_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a90885bae1b9535b16e014fb928e98e37_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a01c18e97a4488be2912eb738b2e7f890}{\index{main2.\-c@{main2.\-c}!timer\-\_\-function\-\_\-task\-\_\-2@{timer\-\_\-function\-\_\-task\-\_\-2}}
\index{timer\-\_\-function\-\_\-task\-\_\-2@{timer\-\_\-function\-\_\-task\-\_\-2}!main2.c@{main2.\-c}}
\subsubsection[{timer\-\_\-function\-\_\-task\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}void timer\-\_\-function\-\_\-task\-\_\-2 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a01c18e97a4488be2912eb738b2e7f890}


Definition at line 541 of file main2.\-c.



References flag\-\_\-task\-\_\-2\-\_\-firstexecution, periodic\-\_\-task\-\_\-2(), status, T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global, t\-\_\-task\-\_\-2\-\_\-global, T\-\_\-task\-\_\-2\-\_\-max\-\_\-global, T\-\_\-task\-\_\-2\-\_\-mean\-\_\-global, and T\-\_\-task\-\_\-2\-\_\-min\-\_\-global.



Referenced by f\-\_\-timer\-\_\-task\-\_\-2().


\begin{DoxyCode}
542 \{
543     \textcolor{keywordtype}{int} \hyperlink{communication_2communication_8c_a6e27f49150e9a14580fb313cc2777e00}{status} = 0;
544     \textcolor{keyword}{static} \textcolor{keyword}{struct }timeval timereset;
545     \textcolor{keyword}{static} \textcolor{keyword}{struct }timeval time;
546     \textcolor{keyword}{static} \textcolor{keyword}{struct }timeval time\_exec\_start;
547     \textcolor{keyword}{static} \textcolor{keyword}{struct }timeval time\_exec\_end;
548     \textcolor{keyword}{static} \textcolor{keywordtype}{double} T\_task,t\_task,t\_task\_previous;
549     \textcolor{keyword}{static} \textcolor{keywordtype}{double} T\_task\_mean,T\_task\_min,T\_task\_max,T\_task\_exec;
550 
551     gettimeofday(&time\_exec\_start, NULL);
552 
553     \textcolor{comment}{// Time calculation}
554     \textcolor{keywordflow}{if}(\hyperlink{main2_8c_a60e039269ae4a130db1bdbc4a709c437}{flag\_task\_2\_firstexecution})
555     \{
556         gettimeofday(&timereset, NULL);
557         t\_task = 0.0;
558         T\_task\_mean = 0.0;
559         T\_task\_min = 0.0;
560         T\_task\_max = 0.0;
561         T\_task\_exec = 0.0;
562     \}
563 
564     gettimeofday(&time, NULL);
565     t\_task = ((time.tv\_sec - timereset.tv\_sec) + (time.tv\_usec - timereset.tv\_usec)*1e-6);
566     T\_task = t\_task - t\_task\_previous;
567     t\_task\_previous = t\_task;
568 
569     \textcolor{keywordflow}{if}(\hyperlink{main2_8c_a60e039269ae4a130db1bdbc4a709c437}{flag\_task\_2\_firstexecution})
570     \{
571         T\_task\_mean = T\_task;
572         T\_task\_min  = 1e200;
573         T\_task\_max  = 0.0;
574     \}
575     \textcolor{keywordflow}{else}
576     \{
577         T\_task\_mean = 0.05*T\_task + 0.95*T\_task\_mean;
578         \textcolor{keywordflow}{if}(T\_task < T\_task\_min) T\_task\_min  = T\_task;
579         \textcolor{keywordflow}{if}(T\_task > T\_task\_max) T\_task\_max  = T\_task;
580     \}
581 
582     \textcolor{comment}{// Run the thread}
583     status = \hyperlink{main2_8c_a944f7352f18ed248c1b1143f51edc391}{periodic\_task\_2}();
584 
585     gettimeofday(&time\_exec\_end, NULL);
586     T\_task\_exec = ((time\_exec\_end.tv\_sec - time\_exec\_start.tv\_sec) + (time\_exec\_end.tv\_usec - 
      time\_exec\_start.tv\_usec)*1e-6);
587 
588     \hyperlink{main2_8c_a08f794ff34d918d3d34d771e11e4aba3}{t\_task\_2\_global} = t\_task;
589     \hyperlink{main2_8c_af4e19d5a9b24aa56c8ebff6ad1aa2b95}{T\_task\_2\_mean\_global} = T\_task\_mean;
590     \hyperlink{main2_8c_ab7712cb13ce6206dd138a51e2053e36c}{T\_task\_2\_min\_global} = T\_task\_min;
591     \hyperlink{main2_8c_a1cd82006c46f46176730e876d272cc14}{T\_task\_2\_max\_global} = T\_task\_max;
592     \hyperlink{main2_8c_a9629c77cd3dba9d47d15c2e51bdde09d}{T\_task\_2\_exec\_global} = T\_task\_exec;
593 
594     \hyperlink{main2_8c_a60e039269ae4a130db1bdbc4a709c437}{flag\_task\_2\_firstexecution} = 0;
595 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a01c18e97a4488be2912eb738b2e7f890_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a01c18e97a4488be2912eb738b2e7f890_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a0e411070b7f487a8ab6a60b180f50e12}{\index{main2.\-c@{main2.\-c}!timer\-\_\-start\-\_\-task\-\_\-1@{timer\-\_\-start\-\_\-task\-\_\-1}}
\index{timer\-\_\-start\-\_\-task\-\_\-1@{timer\-\_\-start\-\_\-task\-\_\-1}!main2.c@{main2.\-c}}
\subsubsection[{timer\-\_\-start\-\_\-task\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}void timer\-\_\-start\-\_\-task\-\_\-1 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a0e411070b7f487a8ab6a60b180f50e12}


Definition at line 400 of file main2.\-c.



References f\-\_\-timer\-\_\-task\-\_\-1(), flag\-\_\-task\-\_\-1\-\_\-firstexecution, task\-\_\-1\-\_\-period\-\_\-us, and timer\-\_\-task\-\_\-1.



Referenced by main().


\begin{DoxyCode}
401 \{
402     \textcolor{keyword}{struct }itimerspec itimer;
403     \textcolor{keyword}{struct }sigevent sigev;
404     \textcolor{keywordtype}{int} erno = 0;
405 
406     \hyperlink{main2_8c_a764ebf75ba887a9ecf7bf8fe124960e0}{flag\_task\_1\_firstexecution} = 1;
407 
408     itimer.it\_interval.tv\_sec=0;
409     itimer.it\_interval.tv\_nsec=\hyperlink{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}{task\_1\_period\_us} * 1000;
410     itimer.it\_value=itimer.it\_interval;
411 
412     memset(&sigev, 0, \textcolor{keyword}{sizeof} (\textcolor{keyword}{struct} sigevent));
413 
414     sigev.sigev\_value.sival\_int = 0;
415     sigev.sigev\_notify = SIGEV\_THREAD;
416     sigev.sigev\_notify\_attributes = NULL;
417     sigev.sigev\_notify\_function = \hyperlink{main2_8c_a5ce2b6a7dd4d00c90fe18098091044aa}{f\_timer\_task\_1};
418 
419     \textcolor{keywordflow}{if} (timer\_create(CLOCK\_REALTIME, &sigev, &\hyperlink{main2_8c_a904a157c5d5f94416cd450f511635af1}{timer\_task\_1}) < 0)
420     \{
421         fprintf(stderr, \textcolor{stringliteral}{"[%d]: %s\(\backslash\)n"}, \_\_LINE\_\_, strerror(erno));
422         exit(erno);
423     \}
424 
425     \textcolor{keywordflow}{if}(timer\_settime(\hyperlink{main2_8c_a904a157c5d5f94416cd450f511635af1}{timer\_task\_1}, 0, &itimer, NULL) < 0)
426     \{
427         fprintf(stderr, \textcolor{stringliteral}{"[%d]: %s\(\backslash\)n"}, \_\_LINE\_\_, strerror(erno));
428         exit(erno);
429     \}
430 
431 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_a0e411070b7f487a8ab6a60b180f50e12_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{main2_8c_a0e411070b7f487a8ab6a60b180f50e12_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_ae59c93969d017f18e3e38b2f9f7888ca}{\index{main2.\-c@{main2.\-c}!timer\-\_\-start\-\_\-task\-\_\-2@{timer\-\_\-start\-\_\-task\-\_\-2}}
\index{timer\-\_\-start\-\_\-task\-\_\-2@{timer\-\_\-start\-\_\-task\-\_\-2}!main2.c@{main2.\-c}}
\subsubsection[{timer\-\_\-start\-\_\-task\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}void timer\-\_\-start\-\_\-task\-\_\-2 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_ae59c93969d017f18e3e38b2f9f7888ca}


Definition at line 433 of file main2.\-c.



References f\-\_\-timer\-\_\-task\-\_\-2(), flag\-\_\-task\-\_\-2\-\_\-firstexecution, task\-\_\-2\-\_\-period\-\_\-us, and timer\-\_\-task\-\_\-2.



Referenced by main().


\begin{DoxyCode}
434 \{
435     \textcolor{keyword}{struct }itimerspec itimer;
436     \textcolor{keyword}{struct }sigevent sigev;
437     \textcolor{keywordtype}{int} erno = 0;
438 
439     \hyperlink{main2_8c_a60e039269ae4a130db1bdbc4a709c437}{flag\_task\_2\_firstexecution} = 1;
440 
441     itimer.it\_interval.tv\_sec=0;
442     itimer.it\_interval.tv\_nsec=\hyperlink{main2_8c_a5166d431d5448a1538e75f5469c19c7b}{task\_2\_period\_us} * 1000;
443     itimer.it\_value=itimer.it\_interval;
444 
445     memset (&sigev, 0, \textcolor{keyword}{sizeof} (\textcolor{keyword}{struct} sigevent));
446     sigev.sigev\_value.sival\_int = 0;
447     sigev.sigev\_notify = SIGEV\_THREAD;
448     sigev.sigev\_notify\_attributes = NULL;
449     sigev.sigev\_notify\_function = \hyperlink{main2_8c_a735ebf3d0d37c7d8187199e6565bcb5c}{f\_timer\_task\_2};
450 
451     \textcolor{keywordflow}{if}(timer\_create(CLOCK\_REALTIME, &sigev, &\hyperlink{main2_8c_adf6e8e22925f399f086dea8671f39c08}{timer\_task\_2}) < 0)
452     \{
453         fprintf(stderr, \textcolor{stringliteral}{"[%d]: %s\(\backslash\)n"}, \_\_LINE\_\_, strerror(erno));
454         exit(erno);
455     \}
456 
457     \textcolor{keywordflow}{if}(timer\_settime(\hyperlink{main2_8c_adf6e8e22925f399f086dea8671f39c08}{timer\_task\_2}, 0, &itimer, NULL) < 0)
458     \{
459         fprintf(stderr, \textcolor{stringliteral}{"[%d]: %s\(\backslash\)n"}, \_\_LINE\_\_, strerror(erno));
460         exit(erno);
461     \}
462 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main2_8c_ae59c93969d017f18e3e38b2f9f7888ca_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{main2_8c_ae59c93969d017f18e3e38b2f9f7888ca_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a54bb5066619e443a28ae5601b5ea3642}{\index{main2.\-c@{main2.\-c}!timer\-\_\-stop\-\_\-task\-\_\-1@{timer\-\_\-stop\-\_\-task\-\_\-1}}
\index{timer\-\_\-stop\-\_\-task\-\_\-1@{timer\-\_\-stop\-\_\-task\-\_\-1}!main2.c@{main2.\-c}}
\subsubsection[{timer\-\_\-stop\-\_\-task\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}void timer\-\_\-stop\-\_\-task\-\_\-1 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a54bb5066619e443a28ae5601b5ea3642}


Definition at line 464 of file main2.\-c.



References timer\-\_\-task\-\_\-1.



Referenced by main().


\begin{DoxyCode}
465 \{
466     \textcolor{keywordtype}{int} erno = 0;
467     \textcolor{keywordflow}{if}(timer\_delete(\hyperlink{main2_8c_a904a157c5d5f94416cd450f511635af1}{timer\_task\_1}) < 0)
468     \{
469         fprintf(stderr, \textcolor{stringliteral}{"[%d]: %s\(\backslash\)n"}, \_\_LINE\_\_, strerror(erno));
470         exit(erno);
471     \}
472 \}
\end{DoxyCode}


Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{main2_8c_a54bb5066619e443a28ae5601b5ea3642_icgraph}
\end{center}
\end{figure}


\hypertarget{main2_8c_a0c69dbcb7b2885a2de116b9d690280de}{\index{main2.\-c@{main2.\-c}!timer\-\_\-stop\-\_\-task\-\_\-2@{timer\-\_\-stop\-\_\-task\-\_\-2}}
\index{timer\-\_\-stop\-\_\-task\-\_\-2@{timer\-\_\-stop\-\_\-task\-\_\-2}!main2.c@{main2.\-c}}
\subsubsection[{timer\-\_\-stop\-\_\-task\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}void timer\-\_\-stop\-\_\-task\-\_\-2 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{main2_8c_a0c69dbcb7b2885a2de116b9d690280de}


Definition at line 474 of file main2.\-c.



References timer\-\_\-task\-\_\-2.



Referenced by main().


\begin{DoxyCode}
475 \{
476     \textcolor{keywordtype}{int} erno = 0;
477     \textcolor{keywordflow}{if}(timer\_delete(\hyperlink{main2_8c_adf6e8e22925f399f086dea8671f39c08}{timer\_task\_2}) < 0)
478     \{
479         fprintf(stderr, \textcolor{stringliteral}{"[%d]: %s\(\backslash\)n"}, \_\_LINE\_\_, strerror(erno));
480         exit(erno);
481     \}
482 \}
\end{DoxyCode}


Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{main2_8c_a0c69dbcb7b2885a2de116b9d690280de_icgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{main2_8c_a95a859aa805a58cd4c59e172d250de4a}{\index{main2.\-c@{main2.\-c}!acquire@{acquire}}
\index{acquire@{acquire}!main2.c@{main2.\-c}}
\subsubsection[{acquire}]{\setlength{\rightskip}{0pt plus 5cm}int acquire =0}}\label{main2_8c_a95a859aa805a58cd4c59e172d250de4a}


Definition at line 41 of file main2.\-c.

\hypertarget{main2_8c_aaa9d39905d1be632c8232f11155291d0}{\index{main2.\-c@{main2.\-c}!buff@{buff}}
\index{buff@{buff}!main2.c@{main2.\-c}}
\subsubsection[{buff}]{\setlength{\rightskip}{0pt plus 5cm}short int buff\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}\mbox{[}3\mbox{]}}}\label{main2_8c_aaa9d39905d1be632c8232f11155291d0}


Definition at line 69 of file main2.\-c.



Referenced by periodic\-\_\-task\-\_\-2().

\hypertarget{main2_8c_ac0f4eb3a1def152855159c698feaf977}{\index{main2.\-c@{main2.\-c}!buff\-\_\-i@{buff\-\_\-i}}
\index{buff\-\_\-i@{buff\-\_\-i}!main2.c@{main2.\-c}}
\subsubsection[{buff\-\_\-i}]{\setlength{\rightskip}{0pt plus 5cm}int buff\-\_\-i =0}}\label{main2_8c_ac0f4eb3a1def152855159c698feaf977}


Definition at line 68 of file main2.\-c.



Referenced by periodic\-\_\-task\-\_\-2().

\hypertarget{main2_8c_a5650ece8c3a277c7f158d75ae65265fa}{\index{main2.\-c@{main2.\-c}!eff\-\_\-data@{eff\-\_\-data}}
\index{eff\-\_\-data@{eff\-\_\-data}!main2.c@{main2.\-c}}
\subsubsection[{eff\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf E\-F\-F\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T} eff\-\_\-data}}\label{main2_8c_a5650ece8c3a277c7f158d75ae65265fa}


Definition at line 76 of file main2.\-c.



Referenced by ui\-\_\-task().

\hypertarget{main2_8c_aaa441e18ae805c4f3efb0b5231d1cfe7}{\index{main2.\-c@{main2.\-c}!enc\-\_\-data@{enc\-\_\-data}}
\index{enc\-\_\-data@{enc\-\_\-data}!main2.c@{main2.\-c}}
\subsubsection[{enc\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf E\-N\-C\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T} enc\-\_\-data}}\label{main2_8c_aaa441e18ae805c4f3efb0b5231d1cfe7}


Definition at line 78 of file main2.\-c.

\hypertarget{main2_8c_a4f35e5ea2395561d0bd3b2f45612dc2c}{\index{main2.\-c@{main2.\-c}!failure@{failure}}
\index{failure@{failure}!main2.c@{main2.\-c}}
\subsubsection[{failure}]{\setlength{\rightskip}{0pt plus 5cm}int failure = 0}}\label{main2_8c_a4f35e5ea2395561d0bd3b2f45612dc2c}


Definition at line 43 of file main2.\-c.

\hypertarget{main2_8c_a764ebf75ba887a9ecf7bf8fe124960e0}{\index{main2.\-c@{main2.\-c}!flag\-\_\-task\-\_\-1\-\_\-firstexecution@{flag\-\_\-task\-\_\-1\-\_\-firstexecution}}
\index{flag\-\_\-task\-\_\-1\-\_\-firstexecution@{flag\-\_\-task\-\_\-1\-\_\-firstexecution}!main2.c@{main2.\-c}}
\subsubsection[{flag\-\_\-task\-\_\-1\-\_\-firstexecution}]{\setlength{\rightskip}{0pt plus 5cm}volatile int flag\-\_\-task\-\_\-1\-\_\-firstexecution = 1}}\label{main2_8c_a764ebf75ba887a9ecf7bf8fe124960e0}


Definition at line 53 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-timer\-\_\-start\-\_\-task\-\_\-1(), timer\-\_\-function\-\_\-task\-\_\-1(), and timer\-\_\-start\-\_\-task\-\_\-1().

\hypertarget{main2_8c_a60e039269ae4a130db1bdbc4a709c437}{\index{main2.\-c@{main2.\-c}!flag\-\_\-task\-\_\-2\-\_\-firstexecution@{flag\-\_\-task\-\_\-2\-\_\-firstexecution}}
\index{flag\-\_\-task\-\_\-2\-\_\-firstexecution@{flag\-\_\-task\-\_\-2\-\_\-firstexecution}!main2.c@{main2.\-c}}
\subsubsection[{flag\-\_\-task\-\_\-2\-\_\-firstexecution}]{\setlength{\rightskip}{0pt plus 5cm}volatile int flag\-\_\-task\-\_\-2\-\_\-firstexecution = 1}}\label{main2_8c_a60e039269ae4a130db1bdbc4a709c437}


Definition at line 65 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-2(), threads\-\_\-linux\-\_\-timer\-\_\-start\-\_\-task\-\_\-2(), timer\-\_\-function\-\_\-task\-\_\-2(), and timer\-\_\-start\-\_\-task\-\_\-2().

\hypertarget{main2_8c_a3cfea12cbe9ca7f1681c950e4cd68606}{\index{main2.\-c@{main2.\-c}!imu\-\_\-data@{imu\-\_\-data}}
\index{imu\-\_\-data@{imu\-\_\-data}!main2.c@{main2.\-c}}
\subsubsection[{imu\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf I\-M\-U\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T} imu\-\_\-data}}\label{main2_8c_a3cfea12cbe9ca7f1681c950e4cd68606}


Definition at line 75 of file main2.\-c.

\hypertarget{main2_8c_a9c6b2109fb9402446f92995db60951b5}{\index{main2.\-c@{main2.\-c}!imu\-\_\-param@{imu\-\_\-param}}
\index{imu\-\_\-param@{imu\-\_\-param}!main2.c@{main2.\-c}}
\subsubsection[{imu\-\_\-param}]{\setlength{\rightskip}{0pt plus 5cm}{\bf I\-M\-U\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T} imu\-\_\-param}}\label{main2_8c_a9c6b2109fb9402446f92995db60951b5}


Definition at line 73 of file main2.\-c.

\hypertarget{main2_8c_abc42e18d2909e9bc119316283f4ed9db}{\index{main2.\-c@{main2.\-c}!mra\-\_\-data@{mra\-\_\-data}}
\index{mra\-\_\-data@{mra\-\_\-data}!main2.c@{main2.\-c}}
\subsubsection[{mra\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf M\-R\-A\-\_\-\-D\-A\-T\-A\-\_\-\-S\-T\-R\-U\-C\-T} mra\-\_\-data}}\label{main2_8c_abc42e18d2909e9bc119316283f4ed9db}


Definition at line 77 of file main2.\-c.



Referenced by control\-\_\-main(), main(), and ui\-\_\-task().

\hypertarget{main2_8c_a525dcecf4685bea1fbf92651ac0401fe}{\index{main2.\-c@{main2.\-c}!quittask@{quittask}}
\index{quittask@{quittask}!main2.c@{main2.\-c}}
\subsubsection[{quittask}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char quittask =0}}\label{main2_8c_a525dcecf4685bea1fbf92651ac0401fe}


Definition at line 40 of file main2.\-c.



Referenced by exit\-\_\-program(), main(), and threads\-\_\-linux\-\_\-init().

\hypertarget{main2_8c_adec2468b88cf50b20e5cf399a3b7e994}{\index{main2.\-c@{main2.\-c}!spi\-\_\-param@{spi\-\_\-param}}
\index{spi\-\_\-param@{spi\-\_\-param}!main2.c@{main2.\-c}}
\subsubsection[{spi\-\_\-param}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-P\-I\-\_\-\-P\-A\-R\-A\-M\-\_\-\-S\-T\-R\-U\-C\-T} spi\-\_\-param}}\label{main2_8c_adec2468b88cf50b20e5cf399a3b7e994}


Definition at line 74 of file main2.\-c.

\hypertarget{main2_8c_a86c2efd6da48b362806cdbb5b1e711d8}{\index{main2.\-c@{main2.\-c}!t0@{t0}}
\index{t0@{t0}!main2.c@{main2.\-c}}
\subsubsection[{t0}]{\setlength{\rightskip}{0pt plus 5cm}volatile double t0 = 0.\-0}}\label{main2_8c_a86c2efd6da48b362806cdbb5b1e711d8}


Definition at line 54 of file main2.\-c.



Referenced by get\-\_\-time(), periodic\-\_\-task\-\_\-1(), reset\-\_\-timer(), threads\-\_\-get\-\_\-time(), threads\-\_\-linux\-\_\-periodic\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-periodic\-\_\-task\-\_\-2(), threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-1(), threads\-\_\-reset\-\_\-timer(), timer\-\_\-function\-\_\-task(), timer\-\_\-function\-\_\-task\-\_\-1(), and ui\-\_\-overview\-\_\-data().

\hypertarget{main2_8c_acdaa4a9b0e1be3dfa53b52df6410ad3b}{\index{main2.\-c@{main2.\-c}!T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global@{T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global}}
\index{T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global@{T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double T\-\_\-task\-\_\-1\-\_\-exec\-\_\-global = 0.\-0}}\label{main2_8c_acdaa4a9b0e1be3dfa53b52df6410ad3b}


Definition at line 48 of file main2.\-c.



Referenced by periodic\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-periodic\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-1(), and timer\-\_\-function\-\_\-task\-\_\-1().

\hypertarget{main2_8c_a2a2a647912528f7aa86812528dbfe02f}{\index{main2.\-c@{main2.\-c}!t\-\_\-task\-\_\-1\-\_\-global@{t\-\_\-task\-\_\-1\-\_\-global}}
\index{t\-\_\-task\-\_\-1\-\_\-global@{t\-\_\-task\-\_\-1\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{t\-\_\-task\-\_\-1\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double t\-\_\-task\-\_\-1\-\_\-global = 0.\-0}}\label{main2_8c_a2a2a647912528f7aa86812528dbfe02f}


Definition at line 47 of file main2.\-c.



Referenced by get\-\_\-time(), periodic\-\_\-task\-\_\-1(), reset\-\_\-timer(), threads\-\_\-get\-\_\-time(), threads\-\_\-linux\-\_\-periodic\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-periodic\-\_\-task\-\_\-2(), threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-1(), threads\-\_\-reset\-\_\-timer(), and timer\-\_\-function\-\_\-task\-\_\-1().

\hypertarget{main2_8c_aa714e30d738039b5bf665742beb31739}{\index{main2.\-c@{main2.\-c}!T\-\_\-task\-\_\-1\-\_\-max\-\_\-global@{T\-\_\-task\-\_\-1\-\_\-max\-\_\-global}}
\index{T\-\_\-task\-\_\-1\-\_\-max\-\_\-global@{T\-\_\-task\-\_\-1\-\_\-max\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{T\-\_\-task\-\_\-1\-\_\-max\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double T\-\_\-task\-\_\-1\-\_\-max\-\_\-global = 0.\-0}}\label{main2_8c_aa714e30d738039b5bf665742beb31739}


Definition at line 51 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-1(), and timer\-\_\-function\-\_\-task\-\_\-1().

\hypertarget{main2_8c_a738c330c86a365e72ce29ebca3f1e572}{\index{main2.\-c@{main2.\-c}!T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global@{T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global}}
\index{T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global@{T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double T\-\_\-task\-\_\-1\-\_\-mean\-\_\-global = 0.\-0}}\label{main2_8c_a738c330c86a365e72ce29ebca3f1e572}


Definition at line 49 of file main2.\-c.



Referenced by get\-\_\-time(), threads\-\_\-get\-\_\-time(), threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-1(), and timer\-\_\-function\-\_\-task\-\_\-1().

\hypertarget{main2_8c_a86222e255aeeb47598a4fc91ab6c2b1a}{\index{main2.\-c@{main2.\-c}!T\-\_\-task\-\_\-1\-\_\-min\-\_\-global@{T\-\_\-task\-\_\-1\-\_\-min\-\_\-global}}
\index{T\-\_\-task\-\_\-1\-\_\-min\-\_\-global@{T\-\_\-task\-\_\-1\-\_\-min\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{T\-\_\-task\-\_\-1\-\_\-min\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double T\-\_\-task\-\_\-1\-\_\-min\-\_\-global = 0.\-0}}\label{main2_8c_a86222e255aeeb47598a4fc91ab6c2b1a}


Definition at line 50 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-1(), and timer\-\_\-function\-\_\-task\-\_\-1().

\hypertarget{main2_8c_a9629c77cd3dba9d47d15c2e51bdde09d}{\index{main2.\-c@{main2.\-c}!T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global@{T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global}}
\index{T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global@{T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double T\-\_\-task\-\_\-2\-\_\-exec\-\_\-global = 0.\-0}}\label{main2_8c_a9629c77cd3dba9d47d15c2e51bdde09d}


Definition at line 60 of file main2.\-c.



Referenced by periodic\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-periodic\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-2(), and timer\-\_\-function\-\_\-task\-\_\-2().

\hypertarget{main2_8c_a08f794ff34d918d3d34d771e11e4aba3}{\index{main2.\-c@{main2.\-c}!t\-\_\-task\-\_\-2\-\_\-global@{t\-\_\-task\-\_\-2\-\_\-global}}
\index{t\-\_\-task\-\_\-2\-\_\-global@{t\-\_\-task\-\_\-2\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{t\-\_\-task\-\_\-2\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double t\-\_\-task\-\_\-2\-\_\-global = 0.\-0}}\label{main2_8c_a08f794ff34d918d3d34d771e11e4aba3}


Definition at line 59 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-2(), and timer\-\_\-function\-\_\-task\-\_\-2().

\hypertarget{main2_8c_a1cd82006c46f46176730e876d272cc14}{\index{main2.\-c@{main2.\-c}!T\-\_\-task\-\_\-2\-\_\-max\-\_\-global@{T\-\_\-task\-\_\-2\-\_\-max\-\_\-global}}
\index{T\-\_\-task\-\_\-2\-\_\-max\-\_\-global@{T\-\_\-task\-\_\-2\-\_\-max\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{T\-\_\-task\-\_\-2\-\_\-max\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double T\-\_\-task\-\_\-2\-\_\-max\-\_\-global = 0.\-0}}\label{main2_8c_a1cd82006c46f46176730e876d272cc14}


Definition at line 63 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-2(), and timer\-\_\-function\-\_\-task\-\_\-2().

\hypertarget{main2_8c_af4e19d5a9b24aa56c8ebff6ad1aa2b95}{\index{main2.\-c@{main2.\-c}!T\-\_\-task\-\_\-2\-\_\-mean\-\_\-global@{T\-\_\-task\-\_\-2\-\_\-mean\-\_\-global}}
\index{T\-\_\-task\-\_\-2\-\_\-mean\-\_\-global@{T\-\_\-task\-\_\-2\-\_\-mean\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{T\-\_\-task\-\_\-2\-\_\-mean\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double T\-\_\-task\-\_\-2\-\_\-mean\-\_\-global = 0.\-0}}\label{main2_8c_af4e19d5a9b24aa56c8ebff6ad1aa2b95}


Definition at line 61 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-2(), and timer\-\_\-function\-\_\-task\-\_\-2().

\hypertarget{main2_8c_ab7712cb13ce6206dd138a51e2053e36c}{\index{main2.\-c@{main2.\-c}!T\-\_\-task\-\_\-2\-\_\-min\-\_\-global@{T\-\_\-task\-\_\-2\-\_\-min\-\_\-global}}
\index{T\-\_\-task\-\_\-2\-\_\-min\-\_\-global@{T\-\_\-task\-\_\-2\-\_\-min\-\_\-global}!main2.c@{main2.\-c}}
\subsubsection[{T\-\_\-task\-\_\-2\-\_\-min\-\_\-global}]{\setlength{\rightskip}{0pt plus 5cm}volatile double T\-\_\-task\-\_\-2\-\_\-min\-\_\-global = 0.\-0}}\label{main2_8c_ab7712cb13ce6206dd138a51e2053e36c}


Definition at line 62 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-function\-\_\-task\-\_\-2(), and timer\-\_\-function\-\_\-task\-\_\-2().

\hypertarget{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}{\index{main2.\-c@{main2.\-c}!task\-\_\-1\-\_\-period\-\_\-us@{task\-\_\-1\-\_\-period\-\_\-us}}
\index{task\-\_\-1\-\_\-period\-\_\-us@{task\-\_\-1\-\_\-period\-\_\-us}!main2.c@{main2.\-c}}
\subsubsection[{task\-\_\-1\-\_\-period\-\_\-us}]{\setlength{\rightskip}{0pt plus 5cm}volatile int task\-\_\-1\-\_\-period\-\_\-us = {\bf T\-A\-S\-K1\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}}}\label{main2_8c_afffc21b0b726e6f4a572d0eefd3b5d69}


Definition at line 52 of file main2.\-c.



Referenced by get\-\_\-time(), main(), periodic\-\_\-task\-\_\-1(), threads\-\_\-get\-\_\-time(), threads\-\_\-linux\-\_\-init(), threads\-\_\-linux\-\_\-periodic\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-timer\-\_\-start\-\_\-task\-\_\-1(), and timer\-\_\-start\-\_\-task\-\_\-1().

\hypertarget{main2_8c_a5166d431d5448a1538e75f5469c19c7b}{\index{main2.\-c@{main2.\-c}!task\-\_\-2\-\_\-period\-\_\-us@{task\-\_\-2\-\_\-period\-\_\-us}}
\index{task\-\_\-2\-\_\-period\-\_\-us@{task\-\_\-2\-\_\-period\-\_\-us}!main2.c@{main2.\-c}}
\subsubsection[{task\-\_\-2\-\_\-period\-\_\-us}]{\setlength{\rightskip}{0pt plus 5cm}volatile int task\-\_\-2\-\_\-period\-\_\-us = {\bf T\-A\-S\-K2\-\_\-\-P\-E\-R\-I\-O\-D\-\_\-\-U\-S}}}\label{main2_8c_a5166d431d5448a1538e75f5469c19c7b}


Definition at line 64 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-start\-\_\-task\-\_\-2(), and timer\-\_\-start\-\_\-task\-\_\-2().

\hypertarget{main2_8c_a5045187bb0afe92c41ce73bc602fd3ca}{\index{main2.\-c@{main2.\-c}!telemetry\-\_\-mode@{telemetry\-\_\-mode}}
\index{telemetry\-\_\-mode@{telemetry\-\_\-mode}!main2.c@{main2.\-c}}
\subsubsection[{telemetry\-\_\-mode}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int telemetry\-\_\-mode = {\bf U\-I\-\_\-\-N\-C\-U\-R\-S\-E\-S\-\_\-\-M\-O\-D\-E}}}\label{main2_8c_a5045187bb0afe92c41ce73bc602fd3ca}


Definition at line 66 of file main2.\-c.



Referenced by periodic\-\_\-task\-\_\-2(), and threads\-\_\-linux\-\_\-periodic\-\_\-task\-\_\-2().

\hypertarget{main2_8c_a904a157c5d5f94416cd450f511635af1}{\index{main2.\-c@{main2.\-c}!timer\-\_\-task\-\_\-1@{timer\-\_\-task\-\_\-1}}
\index{timer\-\_\-task\-\_\-1@{timer\-\_\-task\-\_\-1}!main2.c@{main2.\-c}}
\subsubsection[{timer\-\_\-task\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}timer\-\_\-t timer\-\_\-task\-\_\-1}}\label{main2_8c_a904a157c5d5f94416cd450f511635af1}


Definition at line 46 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-start\-\_\-task\-\_\-1(), threads\-\_\-linux\-\_\-timer\-\_\-stop\-\_\-task\-\_\-1(), timer\-\_\-start\-\_\-task\-\_\-1(), and timer\-\_\-stop\-\_\-task\-\_\-1().

\hypertarget{main2_8c_adf6e8e22925f399f086dea8671f39c08}{\index{main2.\-c@{main2.\-c}!timer\-\_\-task\-\_\-2@{timer\-\_\-task\-\_\-2}}
\index{timer\-\_\-task\-\_\-2@{timer\-\_\-task\-\_\-2}!main2.c@{main2.\-c}}
\subsubsection[{timer\-\_\-task\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}timer\-\_\-t timer\-\_\-task\-\_\-2}}\label{main2_8c_adf6e8e22925f399f086dea8671f39c08}


Definition at line 58 of file main2.\-c.



Referenced by threads\-\_\-linux\-\_\-timer\-\_\-start\-\_\-task\-\_\-2(), threads\-\_\-linux\-\_\-timer\-\_\-stop\-\_\-task\-\_\-2(), timer\-\_\-start\-\_\-task\-\_\-2(), and timer\-\_\-stop\-\_\-task\-\_\-2().

\hypertarget{main2_8c_ac7af894858cf396a219d632f40afdc8d}{\index{main2.\-c@{main2.\-c}!total@{total}}
\index{total@{total}!main2.c@{main2.\-c}}
\subsubsection[{total}]{\setlength{\rightskip}{0pt plus 5cm}int total = 0}}\label{main2_8c_ac7af894858cf396a219d632f40afdc8d}


Definition at line 42 of file main2.\-c.

