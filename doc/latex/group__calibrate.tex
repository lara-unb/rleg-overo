\hypertarget{group__calibrate}{
\section{Routines to calibrate sensors}
\label{group__calibrate}\index{Routines to calibrate sensors@{Routines to calibrate sensors}}
}


Collaboration diagram for Routines to calibrate sensors:

\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__calibrate_ga043045246cf217758281222214c4addc}{calibrate\_\-all} (\hyperlink{structIMU__DATA__STRUCT}{IMU\_\-DATA\_\-STRUCT} $\ast$\hyperlink{threads__linux_8c_a3cfea12cbe9ca7f1681c950e4cd68606}{imu\_\-data})
\begin{DoxyCompactList}\small\item\em Calibrate all sensors. \item\end{DoxyCompactList}\item 
void \hyperlink{group__calibrate_gaecfc81d152db2843b5d1517729804d63}{calibrate\_\-imu} (\hyperlink{structIMU__DATA__STRUCT}{IMU\_\-DATA\_\-STRUCT} $\ast$\hyperlink{threads__linux_8c_a3cfea12cbe9ca7f1681c950e4cd68606}{imu\_\-data})
\begin{DoxyCompactList}\small\item\em Calibrate imu sensors. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{group__calibrate_ga043045246cf217758281222214c4addc}{
\index{calibrate@{calibrate}!calibrate\_\-all@{calibrate\_\-all}}
\index{calibrate\_\-all@{calibrate\_\-all}!calibrate@{calibrate}}
\subsubsection[{calibrate\_\-all}]{\setlength{\rightskip}{0pt plus 5cm}void calibrate\_\-all ({\bf IMU\_\-DATA\_\-STRUCT} $\ast$ {\em imu\_\-data})}}
\label{group__calibrate_ga043045246cf217758281222214c4addc}


Calibrate all sensors. 



Definition at line 8 of file calibration.c.



References calibrate\_\-imu().




\begin{DoxyCode}
9 {
10   calibrate_imu(imu_data);
11   return;
12 }
\end{DoxyCode}




Here is the call graph for this function:

\hypertarget{group__calibrate_gaecfc81d152db2843b5d1517729804d63}{
\index{calibrate@{calibrate}!calibrate\_\-imu@{calibrate\_\-imu}}
\index{calibrate\_\-imu@{calibrate\_\-imu}!calibrate@{calibrate}}
\subsubsection[{calibrate\_\-imu}]{\setlength{\rightskip}{0pt plus 5cm}void calibrate\_\-imu ({\bf IMU\_\-DATA\_\-STRUCT} $\ast$ {\em imu\_\-data})}}
\label{group__calibrate_gaecfc81d152db2843b5d1517729804d63}


Calibrate imu sensors. 



Definition at line 14 of file calibration.c.



References IMU\_\-DATA\_\-STRUCT::acc, IMU\_\-DATA\_\-STRUCT::calibrated::acc, ACC\_\-BIAS\_\-X, ACC\_\-BIAS\_\-Y, ACC\_\-BIAS\_\-Z, ACC\_\-FS\_\-X, ACC\_\-FS\_\-Y, ACC\_\-FS\_\-Z, IMU\_\-DATA\_\-STRUCT::calib, IMU\_\-DATA\_\-STRUCT::calib\_\-temp, IMU\_\-DATA\_\-STRUCT::gyr, IMU\_\-DATA\_\-STRUCT::calibrated::gyr, GYR\_\-BIAS\_\-X, GYR\_\-BIAS\_\-Y, GYR\_\-BIAS\_\-Z, GYR\_\-FS\_\-X, GYR\_\-FS\_\-Y, GYR\_\-FS\_\-Z, IMU\_\-DATA\_\-STRUCT::mag, IMU\_\-DATA\_\-STRUCT::calibrated::mag, MAG\_\-BIAS\_\-X, MAG\_\-BIAS\_\-Y, MAG\_\-BIAS\_\-Z, MAG\_\-FS\_\-X, MAG\_\-FS\_\-Y, MAG\_\-FS\_\-Z, IMU\_\-DATA\_\-STRUCT::temp, DATA\_\-XYZ::x, DATA\_\-XYZ\_\-DOUBLE::x, DATA\_\-XYZ::y, DATA\_\-XYZ\_\-DOUBLE::y, DATA\_\-XYZ::z, and DATA\_\-XYZ\_\-DOUBLE::z.



Referenced by calibrate\_\-all().




\begin{DoxyCode}
15 {
16   // With this parameters, the vectors of acceleration and magnetic field will ha
      ve norm = 1 theorically (i.e. in g or G)
17   imu_data->calib.acc.x = ((double)imu_data->acc.x-ACC_BIAS_X)/ACC_FS_X;
18   imu_data->calib.acc.y = ((double)imu_data->acc.y-ACC_BIAS_Y)/ACC_FS_Y;
19   imu_data->calib.acc.z = ((double)imu_data->acc.z-ACC_BIAS_Z)/ACC_FS_Z;
20   
21   imu_data->calib.mag.x = ((double)imu_data->mag.x-ACC_BIAS_X)/ACC_FS_X;
22   imu_data->calib.mag.y = ((double)imu_data->mag.y-ACC_BIAS_Y)/ACC_FS_Y;
23   imu_data->calib.mag.z = ((double)imu_data->mag.z-ACC_BIAS_Z)/ACC_FS_Z;
24   
25   // With this parameters, we consider right datasheet scale and we get in rad/s
26   imu_data->calib.gyr.x = ((double)imu_data->gyr.x-GYR_BIAS_X)/GYR_FS_X;
27   imu_data->calib.gyr.y = ((double)imu_data->gyr.y-GYR_BIAS_X)/GYR_FS_Y;
28   imu_data->calib.gyr.z = ((double)imu_data->gyr.z-GYR_BIAS_X)/GYR_FS_Z;
29   
30   return;
31 }
\end{DoxyCode}




Here is the caller graph for this function:

