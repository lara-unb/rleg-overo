\hypertarget{AMT203__model_8h}{\section{communication/\-A\-M\-T203\-\_\-model.h File Reference}
\label{AMT203__model_8h}\index{communication/\-A\-M\-T203\-\_\-model.\-h@{communication/\-A\-M\-T203\-\_\-model.\-h}}
}
{\ttfamily \#include $<$stdint.\-h$>$}\\*
{\ttfamily \#include \char`\"{}spi.\-h\char`\"{}}\\*
Include dependency graph for A\-M\-T203\-\_\-model.\-h\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{AMT203__model_8h__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structamt203__t}{amt203\-\_\-t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{AMT203__model_8h_a82ae6af18c17884ed3d756eccd06fcea}{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P}~0x00
\item 
\#define \hyperlink{AMT203__model_8h_a870453446c985b3c51dc3196effad806}{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-R\-D\-\_\-\-P\-O\-S}~0x10
\item 
\#define \hyperlink{AMT203__model_8h_a2196c95935dc3c60edbd0279fb1fa461}{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-S\-E\-T\-\_\-\-Z\-E\-R\-O}~0x70
\item 
\#define \hyperlink{AMT203__model_8h_a736111e0245a8d453884778167a7ff0b}{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R}~0x80
\item 
\#define \hyperlink{AMT203__model_8h_adbe2a1b57b353f000c9298b48f553ef0}{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-R\-D}~0x90
\item 
\#define \hyperlink{AMT203__model_8h_ab0ab21f9e87ccda7eb1de831da971131}{A\-M\-T203\-\_\-\-R\-E\-S\-\_\-\-W\-A\-I\-T}~0xa5
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{AMT203__model_8h_a2c183ebc92d35b7d09e9aaef549d4564}{amt203\-\_\-init} (\hyperlink{structamt203__t}{amt203\-\_\-t} $\ast$amt203, spi\-\_\-t $\ast$spi, void($\ast$chip\-\_\-select)(int on))
\item 
int \hyperlink{AMT203__model_8h_a7de9976acfdbd89389441f16a80d2c88}{amt203\-\_\-position\-\_\-read} (\hyperlink{structamt203__t}{amt203\-\_\-t} $\ast$amt203, uint16\-\_\-t $\ast$position)
\item 
int \hyperlink{AMT203__model_8h_aa5f42cd9b4a737500fcc269e638e5a45}{amt203\-\_\-zero\-\_\-set} (\hyperlink{structamt203__t}{amt203\-\_\-t} $\ast$amt203)
\item 
int \hyperlink{AMT203__model_8h_a42f2cc241b91cc7ec9587ba3234accbf}{amt203\-\_\-eeprom\-\_\-write} (\hyperlink{structamt203__t}{amt203\-\_\-t} $\ast$amt203, uint8\-\_\-t addr, uint8\-\_\-t data)
\item 
int \hyperlink{AMT203__model_8h_a79aab08c8244993463d302465ade2acc}{amt203\-\_\-eeprom\-\_\-read} (\hyperlink{structamt203__t}{amt203\-\_\-t} $\ast$amt203, uint8\-\_\-t addr, uint8\-\_\-t $\ast$data)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{AMT203__model_8h_adbe2a1b57b353f000c9298b48f553ef0}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-R\-D@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-R\-D}}
\index{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-R\-D@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-R\-D}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-R\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-R\-D~0x90}}\label{AMT203__model_8h_adbe2a1b57b353f000c9298b48f553ef0}


Definition at line 32 of file A\-M\-T203\-\_\-model.\-h.



Referenced by amt203\-\_\-eeprom\-\_\-read().

\hypertarget{AMT203__model_8h_a736111e0245a8d453884778167a7ff0b}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R}}
\index{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R~0x80}}\label{AMT203__model_8h_a736111e0245a8d453884778167a7ff0b}


Definition at line 31 of file A\-M\-T203\-\_\-model.\-h.



Referenced by amt203\-\_\-eeprom\-\_\-write(), and amt203\-\_\-zero\-\_\-set().

\hypertarget{AMT203__model_8h_a82ae6af18c17884ed3d756eccd06fcea}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P}}
\index{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P~0x00}}\label{AMT203__model_8h_a82ae6af18c17884ed3d756eccd06fcea}


Definition at line 28 of file A\-M\-T203\-\_\-model.\-h.



Referenced by amt203\-\_\-eeprom\-\_\-read(), amt203\-\_\-init(), and amt203\-\_\-position\-\_\-read().

\hypertarget{AMT203__model_8h_a870453446c985b3c51dc3196effad806}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-R\-D\-\_\-\-P\-O\-S@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-R\-D\-\_\-\-P\-O\-S}}
\index{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-R\-D\-\_\-\-P\-O\-S@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-R\-D\-\_\-\-P\-O\-S}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-R\-D\-\_\-\-P\-O\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-R\-D\-\_\-\-P\-O\-S~0x10}}\label{AMT203__model_8h_a870453446c985b3c51dc3196effad806}


Definition at line 29 of file A\-M\-T203\-\_\-model.\-h.



Referenced by amt203\-\_\-position\-\_\-read().

\hypertarget{AMT203__model_8h_a2196c95935dc3c60edbd0279fb1fa461}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-S\-E\-T\-\_\-\-Z\-E\-R\-O@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-S\-E\-T\-\_\-\-Z\-E\-R\-O}}
\index{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-S\-E\-T\-\_\-\-Z\-E\-R\-O@{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-S\-E\-T\-\_\-\-Z\-E\-R\-O}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-S\-E\-T\-\_\-\-Z\-E\-R\-O}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-S\-E\-T\-\_\-\-Z\-E\-R\-O~0x70}}\label{AMT203__model_8h_a2196c95935dc3c60edbd0279fb1fa461}


Definition at line 30 of file A\-M\-T203\-\_\-model.\-h.



Referenced by amt203\-\_\-zero\-\_\-set().

\hypertarget{AMT203__model_8h_ab0ab21f9e87ccda7eb1de831da971131}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!A\-M\-T203\-\_\-\-R\-E\-S\-\_\-\-W\-A\-I\-T@{A\-M\-T203\-\_\-\-R\-E\-S\-\_\-\-W\-A\-I\-T}}
\index{A\-M\-T203\-\_\-\-R\-E\-S\-\_\-\-W\-A\-I\-T@{A\-M\-T203\-\_\-\-R\-E\-S\-\_\-\-W\-A\-I\-T}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{A\-M\-T203\-\_\-\-R\-E\-S\-\_\-\-W\-A\-I\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-T203\-\_\-\-R\-E\-S\-\_\-\-W\-A\-I\-T~0xa5}}\label{AMT203__model_8h_ab0ab21f9e87ccda7eb1de831da971131}


Definition at line 35 of file A\-M\-T203\-\_\-model.\-h.



Referenced by amt203\-\_\-wait\-\_\-for\-\_\-ack().



\subsection{Function Documentation}
\hypertarget{AMT203__model_8h_a79aab08c8244993463d302465ade2acc}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!amt203\-\_\-eeprom\-\_\-read@{amt203\-\_\-eeprom\-\_\-read}}
\index{amt203\-\_\-eeprom\-\_\-read@{amt203\-\_\-eeprom\-\_\-read}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{amt203\-\_\-eeprom\-\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}int amt203\-\_\-eeprom\-\_\-read (
\begin{DoxyParamCaption}
\item[{{\bf amt203\-\_\-t} $\ast$}]{amt203, }
\item[{uint8\-\_\-t}]{addr, }
\item[{uint8\-\_\-t $\ast$}]{data}
\end{DoxyParamCaption}
)}}\label{AMT203__model_8h_a79aab08c8244993463d302465ade2acc}


Definition at line 136 of file A\-M\-T203\-\_\-model.\-c.



References A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-R\-D, A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P, amt203\-\_\-wait\-\_\-for\-\_\-ack(), and amt203\-\_\-xfer\-\_\-byte().


\begin{DoxyCode}
\{
    uint8\_t cmd = \hyperlink{AMT203__model_8h_adbe2a1b57b353f000c9298b48f553ef0}{AMT203\_CMD\_EEPROM\_RD};
    uint8\_t res = 0;
    assert(amt203 != NULL);
    
    \textcolor{comment}{/* Send command */}
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, cmd, &res);
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, addr, &res);
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, 0x01, &res);
    \textcolor{keywordflow}{if} (\hyperlink{AMT203__model_8c_aa1d351a2063f5d1bee269462d4256075}{amt203\_wait\_for\_ack}(amt203, cmd, 5) != 0) \{ \textcolor{keywordflow}{return} -
      1; \}
    
    \textcolor{comment}{/* Get data */}
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, \hyperlink{AMT203__model_8h_a82ae6af18c17884ed3d756eccd06fcea}{AMT203\_CMD\_NOP}, &res
      );
    *data = res;
    
    \textcolor{keywordflow}{return} 0;
\}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{AMT203__model_8h_a79aab08c8244993463d302465ade2acc_cgraph}
\end{center}
\end{figure}


\hypertarget{AMT203__model_8h_a42f2cc241b91cc7ec9587ba3234accbf}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!amt203\-\_\-eeprom\-\_\-write@{amt203\-\_\-eeprom\-\_\-write}}
\index{amt203\-\_\-eeprom\-\_\-write@{amt203\-\_\-eeprom\-\_\-write}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{amt203\-\_\-eeprom\-\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}int amt203\-\_\-eeprom\-\_\-write (
\begin{DoxyParamCaption}
\item[{{\bf amt203\-\_\-t} $\ast$}]{amt203, }
\item[{uint8\-\_\-t}]{addr, }
\item[{uint8\-\_\-t}]{data}
\end{DoxyParamCaption}
)}}\label{AMT203__model_8h_a42f2cc241b91cc7ec9587ba3234accbf}


Definition at line 121 of file A\-M\-T203\-\_\-model.\-c.



References A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R, amt203\-\_\-wait\-\_\-for\-\_\-ack(), and amt203\-\_\-xfer\-\_\-byte().


\begin{DoxyCode}
\{
    uint8\_t cmd = \hyperlink{AMT203__model_8h_a736111e0245a8d453884778167a7ff0b}{AMT203\_CMD\_EEPROM\_WR};
    uint8\_t res = 0;
    assert(amt203 != NULL);
    
    \textcolor{comment}{/* Send command */}
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, cmd, &res);
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, addr, &res);
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, data, &res);
    \textcolor{keywordflow}{if} (\hyperlink{AMT203__model_8c_aa1d351a2063f5d1bee269462d4256075}{amt203\_wait\_for\_ack}(amt203, cmd, 5) != 0) \{ \textcolor{keywordflow}{return} -
      1; \}
    
    \textcolor{keywordflow}{return} 0;
\}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{AMT203__model_8h_a42f2cc241b91cc7ec9587ba3234accbf_cgraph}
\end{center}
\end{figure}


\hypertarget{AMT203__model_8h_a2c183ebc92d35b7d09e9aaef549d4564}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!amt203\-\_\-init@{amt203\-\_\-init}}
\index{amt203\-\_\-init@{amt203\-\_\-init}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{amt203\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}int amt203\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf amt203\-\_\-t} $\ast$}]{amt203, }
\item[{spi\-\_\-t $\ast$}]{spi, }
\item[{void($\ast$)(int on)}]{chip\-\_\-select}
\end{DoxyParamCaption}
)}}\label{AMT203__model_8h_a2c183ebc92d35b7d09e9aaef549d4564}


Definition at line 65 of file A\-M\-T203\-\_\-model.\-c.



References A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P, amt203\-\_\-xfer\-\_\-byte(), amt203\-\_\-t\-::chip\-\_\-select, and amt203\-\_\-t\-::spi.


\begin{DoxyCode}
\{
    uint8\_t res = 0;
    \textcolor{keywordtype}{int} i=0;
    assert(amt203 != NULL);
    assert(spi != NULL);
    assert(chip\_select != NULL);

    memset(amt203, 0, \textcolor{keyword}{sizeof}(\hyperlink{structamt203__t}{amt203\_t}));
    amt203->\hyperlink{structamt203__t_a60f1c7606de69fef34add270769be028}{spi} = spi;
    amt203->\hyperlink{structamt203__t_a6cfcff7f607042fe15407cdda67db194}{chip\_select} = chip\_select;
    
    \textcolor{keywordflow}{for} (i=0; i<5; i++) \{ \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, 
      \hyperlink{AMT203__model_8h_a82ae6af18c17884ed3d756eccd06fcea}{AMT203\_CMD\_NOP}, &res); \}    
    \textcolor{keywordflow}{return} 0;
\}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{AMT203__model_8h_a2c183ebc92d35b7d09e9aaef549d4564_cgraph}
\end{center}
\end{figure}


\hypertarget{AMT203__model_8h_a7de9976acfdbd89389441f16a80d2c88}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!amt203\-\_\-position\-\_\-read@{amt203\-\_\-position\-\_\-read}}
\index{amt203\-\_\-position\-\_\-read@{amt203\-\_\-position\-\_\-read}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{amt203\-\_\-position\-\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}int amt203\-\_\-position\-\_\-read (
\begin{DoxyParamCaption}
\item[{{\bf amt203\-\_\-t} $\ast$}]{amt203, }
\item[{uint16\-\_\-t $\ast$}]{position}
\end{DoxyParamCaption}
)}}\label{AMT203__model_8h_a7de9976acfdbd89389441f16a80d2c88}


Definition at line 81 of file A\-M\-T203\-\_\-model.\-c.



References A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-N\-O\-P, A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-R\-D\-\_\-\-P\-O\-S, amt203\-\_\-wait\-\_\-for\-\_\-ack(), and amt203\-\_\-xfer\-\_\-byte().


\begin{DoxyCode}
\{
    uint8\_t cmd = \hyperlink{AMT203__model_8h_a870453446c985b3c51dc3196effad806}{AMT203\_CMD\_RD\_POS};
    uint8\_t res = 0;
    assert(amt203 != NULL);

    \textcolor{comment}{/* Send command */}
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, cmd, &res);
    \textcolor{keywordflow}{if} (\hyperlink{AMT203__model_8c_aa1d351a2063f5d1bee269462d4256075}{amt203\_wait\_for\_ack}(amt203, cmd, 5) != 0) \{ \textcolor{keywordflow}{return} -
      1; \}
    
    \textcolor{comment}{/* Get high byte */}
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, \hyperlink{AMT203__model_8h_a82ae6af18c17884ed3d756eccd06fcea}{AMT203\_CMD\_NOP}, &res
      );
    *position |= ((uint16\_t)res << 8);
    
    \textcolor{comment}{/* Get low byte */}
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, \hyperlink{AMT203__model_8h_a82ae6af18c17884ed3d756eccd06fcea}{AMT203\_CMD\_NOP}, &res
      );
    *position |= (uint16\_t)res;
       
    \textcolor{keywordflow}{return} (*position > 0x0fff);
\}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{AMT203__model_8h_a7de9976acfdbd89389441f16a80d2c88_cgraph}
\end{center}
\end{figure}


\hypertarget{AMT203__model_8h_aa5f42cd9b4a737500fcc269e638e5a45}{\index{A\-M\-T203\-\_\-model.\-h@{A\-M\-T203\-\_\-model.\-h}!amt203\-\_\-zero\-\_\-set@{amt203\-\_\-zero\-\_\-set}}
\index{amt203\-\_\-zero\-\_\-set@{amt203\-\_\-zero\-\_\-set}!AMT203_model.h@{A\-M\-T203\-\_\-model.\-h}}
\subsubsection[{amt203\-\_\-zero\-\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}int amt203\-\_\-zero\-\_\-set (
\begin{DoxyParamCaption}
\item[{{\bf amt203\-\_\-t} $\ast$}]{amt203}
\end{DoxyParamCaption}
)}}\label{AMT203__model_8h_aa5f42cd9b4a737500fcc269e638e5a45}


Definition at line 102 of file A\-M\-T203\-\_\-model.\-c.



References A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-E\-E\-P\-R\-O\-M\-\_\-\-W\-R, A\-M\-T203\-\_\-\-C\-M\-D\-\_\-\-S\-E\-T\-\_\-\-Z\-E\-R\-O, amt203\-\_\-wait\-\_\-for\-\_\-ack(), amt203\-\_\-xfer\-\_\-byte(), and I\-N\-T\-\_\-\-M\-A\-X.


\begin{DoxyCode}
\{
    uint8\_t cmd = \hyperlink{AMT203__model_8h_a2196c95935dc3c60edbd0279fb1fa461}{AMT203\_CMD\_SET\_ZERO};
    uint8\_t res = 0;
    assert(amt203 != NULL);
    
    \textcolor{comment}{/* Send command */}
    \hyperlink{AMT203__model_8c_aded9dccef363584017a0740784dd544d}{amt203\_xfer\_byte}(amt203, cmd, &res);
    \textcolor{keywordflow}{if} (\hyperlink{AMT203__model_8c_aa1d351a2063f5d1bee269462d4256075}{amt203\_wait\_for\_ack}(amt203, \hyperlink{AMT203__model_8h_a736111e0245a8d453884778167a7ff0b}{AMT203\_CMD\_EEPROM\_WR}
      , \hyperlink{encoder__functions_8h_a9ec306f36d50c7375e74f0d1c55a3a67}{INT\_MAX}) != 0) \{ 
        \textcolor{keywordflow}{return} -1; 
    \}

    \textcolor{comment}{/* Note: }
\textcolor{comment}{     *   From datasheet, the encoder must be power-cycled after this command}
\textcolor{comment}{     *   for the new zero position to be used in the position calculation. */}

    \textcolor{keywordflow}{return} 0;
\}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{AMT203__model_8h_aa5f42cd9b4a737500fcc269e638e5a45_cgraph}
\end{center}
\end{figure}


