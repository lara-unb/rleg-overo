<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Rleg: Functions for accelerometer ADXL345</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Functions for accelerometer ADXL345<br/>
<small>
[<a class="el" href="group__imu.html">IMU sensors</a>]</small>
</h1>
<p><div class="dynheader">
Collaboration diagram for Functions for accelerometer ADXL345:</div>
<div class="dynsection">
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__acc.html#ga534116416343122de29a5b6ade6876bd">acc_write_reg</a> (int i2c_dev, uint8_t reg, uint8_t data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">WRITE TO REGISTER.  <a href="#ga534116416343122de29a5b6ade6876bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__acc.html#ga2a91c44eebbe44f4d3b8c508633512f9">acc_read_reg</a> (int i2c_dev, uint8_t reg, uint8_t count)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">READ COUNT 8-BIT REGISTER IN SEQUENCE  <a href="#ga2a91c44eebbe44f4d3b8c508633512f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__acc.html#gae8f9cc6e0d15e61039d846305f86f073">acc_init</a> (int i2c_dev, uint8_t full_res, uint16_t rate, uint8_t range)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">INITIALIZE ACCELEROMETER.  <a href="#gae8f9cc6e0d15e61039d846305f86f073"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__acc.html#ga013bb5ed8a763883fc440549d2b1a6ce">acc_read_all_data</a> (int i2c_dev, short int *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">READ ALL DATA AT ONCE (X, Y and Z).  <a href="#ga013bb5ed8a763883fc440549d2b1a6ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__acc.html#ga041d6953f2bfc8c5efa4d5bbac812305">acc_read_data</a> (int i2c_dev, int axis)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">READ DATA (X, Y or Z).  <a href="#ga041d6953f2bfc8c5efa4d5bbac812305"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__acc.html#ga8509cccabb08e7267677f66f25718731">acc_read_all_reg</a> (int i2c_dev)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read all accelerometer data and print in stdio.  <a href="#ga8509cccabb08e7267677f66f25718731"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae8f9cc6e0d15e61039d846305f86f073"></a><!-- doxytag: member="imu_functions.h::acc_init" ref="gae8f9cc6e0d15e61039d846305f86f073" args="(int i2c_dev, uint8_t full_res, uint16_t rate, uint8_t range)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acc_init </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i2c_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>full_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>range</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>INITIALIZE ACCELEROMETER. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i2c_dev</em>&nbsp;</td><td>Communication Port </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>full_res</em>&nbsp;</td><td>Set resolution to 10 bits if value equal 0 else set to Full resolution </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>Set data output rate (Hz), possible values: (3200,1600,800,400,200,100,50,25, 12: 12.5Hz, 6: 6.25Hz) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>range</em>&nbsp;</td><td>Set range of read, possible values: (2: +- 2g 4: +- 4g 8: +- 8g anyother: 16g) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>flag with SUCCESS or FAILURE</dd></dl>
<p>INITIALIZE ACCELEROMETER.</p>
<p>Implements the I2C communication between Gumstix Overo Fire and ADXL345 </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Caio Gustavo Mesquita Ã‚ngelo </dd></dl>

<p>Definition at line <a class="el" href="acc__functions_8c_source.html#l00011">11</a> of file <a class="el" href="acc__functions_8c_source.html">acc_functions.c</a>.</p>

<p>References <a class="el" href="imu__regs_8h_source.html#l00026">ACC_BW_RATE</a>, <a class="el" href="imu__regs_8h_source.html#l00031">ACC_DATA_FORMAT</a>, <a class="el" href="imu__regs_8h_source.html#l00027">ACC_POWER_CTL</a>, <a class="el" href="imu__regs_8h_source.html#l00042">ACC_POWER_CTL_MEAS_MODE</a>, <a class="el" href="acc__functions_8c_source.html#l00087">acc_write_reg()</a>, <a class="el" href="calibration_2calibration_8h_source.html#l00007">FAILURE</a>, and <a class="el" href="calibration_2calibration_8h_source.html#l00006">SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="communication_8c_source.html#l00012">devices_init()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00012"></a>00012 { 
<a name="l00013"></a>00013   uint8_t data=0;
<a name="l00014"></a>00014 
<a name="l00015"></a>00015   <span class="keywordflow">switch</span>(range){
<a name="l00016"></a>00016     <span class="keywordflow">case</span> 2:
<a name="l00017"></a>00017       data=0x08;;
<a name="l00018"></a>00018       <span class="keywordflow">break</span>;
<a name="l00019"></a>00019     <span class="keywordflow">case</span> 4:
<a name="l00020"></a>00020       data=0x09;
<a name="l00021"></a>00021       <span class="keywordflow">break</span>;
<a name="l00022"></a>00022     <span class="keywordflow">case</span> 8:
<a name="l00023"></a>00023       data=0x0A;
<a name="l00024"></a>00024       <span class="keywordflow">break</span>;
<a name="l00025"></a>00025     <span class="keywordflow">default</span>:
<a name="l00026"></a>00026       data=0x0B;
<a name="l00027"></a>00027       <span class="keywordflow">break</span>;
<a name="l00028"></a>00028   }
<a name="l00029"></a>00029   
<a name="l00030"></a>00030   <span class="keywordflow">if</span>(full_res==0)
<a name="l00031"></a>00031     data=data&amp;(0xF7);
<a name="l00032"></a>00032   
<a name="l00033"></a>00033   <span class="keywordflow">if</span>((<a class="code" href="group__acc.html#ga534116416343122de29a5b6ade6876bd" title="WRITE TO REGISTER.">acc_write_reg</a>(i2c_dev, <a class="code" href="imu__regs_8h.html#ab4eb7fc69b2a37ee750d3400fc2c53a1">ACC_DATA_FORMAT</a>, data))&lt;0){
<a name="l00034"></a>00034     perror(<span class="stringliteral">&quot;Data Format unsuccesful&quot;</span>);
<a name="l00035"></a>00035     <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>;
<a name="l00036"></a>00036   }
<a name="l00037"></a>00037   
<a name="l00038"></a>00038   data=<a class="code" href="imu__regs_8h.html#a9a841ba3e094b01ea439584e12b25894">ACC_POWER_CTL_MEAS_MODE</a>;
<a name="l00039"></a>00039   <span class="keywordflow">if</span>((<a class="code" href="group__acc.html#ga534116416343122de29a5b6ade6876bd" title="WRITE TO REGISTER.">acc_write_reg</a>(i2c_dev, <a class="code" href="imu__regs_8h.html#ad857d62b61f349216faeda06eff5f9c6">ACC_POWER_CTL</a>, data))&lt;0){
<a name="l00040"></a>00040     perror(<span class="stringliteral">&quot;Power Control unsuccesful&quot;</span>);
<a name="l00041"></a>00041     <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>;
<a name="l00042"></a>00042   }
<a name="l00043"></a>00043   
<a name="l00044"></a>00044   <span class="keywordflow">switch</span>(rate){
<a name="l00045"></a>00045     <span class="keywordflow">case</span> 100:
<a name="l00046"></a>00046       data=0x0A;
<a name="l00047"></a>00047       <span class="keywordflow">break</span>;
<a name="l00048"></a>00048     <span class="keywordflow">case</span> 3200:
<a name="l00049"></a>00049       data=0x0F;;
<a name="l00050"></a>00050       <span class="keywordflow">break</span>;
<a name="l00051"></a>00051     <span class="keywordflow">case</span> 1600:
<a name="l00052"></a>00052       data=0x0E;
<a name="l00053"></a>00053       <span class="keywordflow">break</span>;
<a name="l00054"></a>00054     <span class="keywordflow">case</span> 800:
<a name="l00055"></a>00055       data=0x0D;
<a name="l00056"></a>00056       <span class="keywordflow">break</span>;
<a name="l00057"></a>00057     <span class="keywordflow">case</span> 400:
<a name="l00058"></a>00058       data=0x0C;
<a name="l00059"></a>00059       <span class="keywordflow">break</span>;
<a name="l00060"></a>00060     <span class="keywordflow">case</span> 200:
<a name="l00061"></a>00061       data=0x0B;
<a name="l00062"></a>00062       <span class="keywordflow">break</span>;
<a name="l00063"></a>00063     <span class="keywordflow">case</span> 50:
<a name="l00064"></a>00064       data=0x09;
<a name="l00065"></a>00065       <span class="keywordflow">break</span>; 
<a name="l00066"></a>00066     <span class="keywordflow">case</span> 25:
<a name="l00067"></a>00067       data=0x08;
<a name="l00068"></a>00068       <span class="keywordflow">break</span>;
<a name="l00069"></a>00069     <span class="keywordflow">case</span> 12:
<a name="l00070"></a>00070       data=0x07;
<a name="l00071"></a>00071       <span class="keywordflow">break</span>;
<a name="l00072"></a>00072     <span class="keywordflow">case</span> 6:
<a name="l00073"></a>00073       data=0x06;
<a name="l00074"></a>00074       <span class="keywordflow">break</span>;
<a name="l00075"></a>00075     <span class="keywordflow">default</span>:
<a name="l00076"></a>00076       perror(<span class="stringliteral">&quot;Wrong rate value&quot;</span>);
<a name="l00077"></a>00077       <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>;
<a name="l00078"></a>00078   }
<a name="l00079"></a>00079   <span class="keywordflow">if</span>((<a class="code" href="group__acc.html#ga534116416343122de29a5b6ade6876bd" title="WRITE TO REGISTER.">acc_write_reg</a>(i2c_dev, <a class="code" href="imu__regs_8h.html#afbbb5a3aa097a32f98c47158141a882f">ACC_BW_RATE</a>, data))&lt;0){
<a name="l00080"></a>00080     perror(<span class="stringliteral">&quot;Write in BW_RATE unsuccesful&quot;</span>);
<a name="l00081"></a>00081     <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>;
<a name="l00082"></a>00082   }
<a name="l00083"></a>00083   
<a name="l00084"></a>00084   <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>;
<a name="l00085"></a>00085 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
</div>
</p>

</div>
</div>
<a class="anchor" id="ga013bb5ed8a763883fc440549d2b1a6ce"></a><!-- doxytag: member="imu_functions.h::acc_read_all_data" ref="ga013bb5ed8a763883fc440549d2b1a6ce" args="(int i2c_dev, short int *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acc_read_all_data </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i2c_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short int *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>READ ALL DATA AT ONCE (X, Y and Z). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i2c_dev</em>&nbsp;</td><td>Communication Port </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Data's vector</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>flag with SUCCESS or FAILURE </dd></dl>

<p>Definition at line <a class="el" href="acc__functions_8c_source.html#l00159">159</a> of file <a class="el" href="acc__functions_8c_source.html">acc_functions.c</a>.</p>

<p>References <a class="el" href="imu__regs_8h_source.html#l00032">ACC_DATAX0</a>, <a class="el" href="acc__functions_8c_source.html#l00109">acc_read_reg()</a>, <a class="el" href="calibration_2calibration_8h_source.html#l00007">FAILURE</a>, and <a class="el" href="calibration_2calibration_8h_source.html#l00006">SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="communication_8c_source.html#l00082">read_all_data()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00160"></a>00160 {
<a name="l00161"></a>00161   <span class="keywordtype">int</span> i;
<a name="l00162"></a>00162   uint8_t *data8;
<a name="l00163"></a>00163   <span class="keyword">union </span>result
<a name="l00164"></a>00164   {
<a name="l00165"></a>00165     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> usgnd[3];
<a name="l00166"></a>00166     <span class="keywordtype">short</span> <span class="keywordtype">int</span> sgnd[3];
<a name="l00167"></a>00167   } result;
<a name="l00168"></a>00168   <span class="comment">//result=(union result*)malloc(3*sizeof(union result));</span>
<a name="l00169"></a>00169   <span class="keywordflow">if</span>( (data8=<a class="code" href="group__acc.html#ga2a91c44eebbe44f4d3b8c508633512f9" title="READ COUNT 8-BIT REGISTER IN SEQUENCE">acc_read_reg</a>(i2c_dev,<a class="code" href="imu__regs_8h.html#afae448fbad872220013e5c3abf0f3d9f">ACC_DATAX0</a>,6))==NULL )
<a name="l00170"></a>00170   {
<a name="l00171"></a>00171     <span class="comment">//perror(&quot;Read accelerometer register failed&quot;);</span>
<a name="l00172"></a>00172     <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>;
<a name="l00173"></a>00173   }
<a name="l00174"></a>00174   <span class="comment">//result.usgnd=(unsigned int*)malloc(3*sizeof(unsigned int));</span>
<a name="l00175"></a>00175   <span class="keywordflow">for</span>(i=0; i&lt;3; i++)
<a name="l00176"></a>00176   {
<a name="l00177"></a>00177     result.usgnd[i]=0;
<a name="l00178"></a>00178     result.usgnd[i]=result.usgnd[i]|((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> int)data8[i*2])|(((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> int)data8[i*2+1])&lt;&lt;8);
<a name="l00179"></a>00179     data[i]=result.sgnd[i];
<a name="l00180"></a>00180   }
<a name="l00181"></a>00181   <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>;  
<a name="l00182"></a>00182 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8509cccabb08e7267677f66f25718731"></a><!-- doxytag: member="imu_functions.h::acc_read_all_reg" ref="ga8509cccabb08e7267677f66f25718731" args="(int i2c_dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acc_read_all_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i2c_dev</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read all accelerometer data and print in stdio. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i2c_dev</em>&nbsp;</td><td>Communication Port </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="acc__functions_8c_source.html#l00196">196</a> of file <a class="el" href="acc__functions_8c_source.html">acc_functions.c</a>.</p>

<p>References <a class="el" href="imu__regs_8h_source.html#l00010">ACC_DEVID</a>, <a class="el" href="acc__functions_8c_source.html#l00109">acc_read_reg()</a>, <a class="el" href="imu__regs_8h_source.html#l00011">ACC_THRESH_TAP</a>, and <a class="el" href="acc__functions_8c_source.html#l00184">conv_byte_hex_bin()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00197"></a>00197 {
<a name="l00198"></a>00198   uint8_t *hvalue0, *hvalue1, *hvalue;
<a name="l00199"></a>00199   <span class="keywordtype">int</span> i;
<a name="l00200"></a>00200   
<a name="l00201"></a>00201   hvalue0=<a class="code" href="group__acc.html#ga2a91c44eebbe44f4d3b8c508633512f9" title="READ COUNT 8-BIT REGISTER IN SEQUENCE">acc_read_reg</a>(i2c_dev,<a class="code" href="imu__regs_8h.html#a007fa8d8ef9d89127ae5da32a2f42283">ACC_DEVID</a>,1);
<a name="l00202"></a>00202   printf(<span class="stringliteral">&quot;\nhey&quot;</span>);
<a name="l00203"></a>00203   printf(<span class="stringliteral">&quot;\nhey3&quot;</span>);
<a name="l00204"></a>00204   printf(<span class="stringliteral">&quot;\nhey2&quot;</span>);
<a name="l00205"></a>00205   printf(<span class="stringliteral">&quot;\nhey3&quot;</span>);
<a name="l00206"></a>00206   hvalue1=<a class="code" href="group__acc.html#ga2a91c44eebbe44f4d3b8c508633512f9" title="READ COUNT 8-BIT REGISTER IN SEQUENCE">acc_read_reg</a>(i2c_dev,<a class="code" href="imu__regs_8h.html#afa5af181c4af31e22baa9bd20ff322ef">ACC_THRESH_TAP</a>, 29);
<a name="l00207"></a>00207   printf(<span class="stringliteral">&quot;\nhey3&quot;</span>);
<a name="l00208"></a>00208   <span class="comment">//hvalue--;</span>
<a name="l00209"></a>00209   hvalue=(uint8_t*)malloc(30*<span class="keyword">sizeof</span>(uint8_t));
<a name="l00210"></a>00210   hvalue[0]=hvalue0[0];
<a name="l00211"></a>00211   <span class="keywordflow">for</span>( i=0; i&lt;29; i++)
<a name="l00212"></a>00212     hvalue[i+1]=hvalue1[i];
<a name="l00213"></a>00213   printf(<span class="stringliteral">&quot;\nhey4&quot;</span>);
<a name="l00214"></a>00214   printf(<span class="stringliteral">&quot;\nACC_DEVID = 0x%02X = %s&quot;</span>, hvalue0[0],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue0));
<a name="l00215"></a>00215   printf(<span class="stringliteral">&quot;\nACC_THRESH_TAP = 0x%02X = %s&quot;</span>, hvalue1[0],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+1));
<a name="l00216"></a>00216   printf(<span class="stringliteral">&quot;\nACC_OFSX = 0x%02X = %s&quot;</span>, hvalue[2],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+2));
<a name="l00217"></a>00217   printf(<span class="stringliteral">&quot;\nACC_OFSY = 0x%02X = %s&quot;</span>, hvalue[3],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+3));
<a name="l00218"></a>00218   printf(<span class="stringliteral">&quot;\nACC_OFSZ = 0x%02X = %s&quot;</span>, hvalue[4],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+4));
<a name="l00219"></a>00219   printf(<span class="stringliteral">&quot;\nACC_DUR = 0x%02X = %s&quot;</span>, hvalue[5],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+5));
<a name="l00220"></a>00220   printf(<span class="stringliteral">&quot;\nACC_LATENT = 0x%02X = %s&quot;</span>, hvalue[6],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+6));
<a name="l00221"></a>00221   printf(<span class="stringliteral">&quot;\nACC_WINDOW = 0x%02X = %s&quot;</span>, hvalue[7],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+7));
<a name="l00222"></a>00222   printf(<span class="stringliteral">&quot;\nACC_THRESH_ACT = 0x%02X = %s&quot;</span>, hvalue[8],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+8));
<a name="l00223"></a>00223   printf(<span class="stringliteral">&quot;\nACC_THRESH_INACT = 0x%02X = %s&quot;</span>, hvalue[9],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+9));
<a name="l00224"></a>00224   printf(<span class="stringliteral">&quot;\nACC_TIME_INACT = 0x%02X = %s&quot;</span>, hvalue[10],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+10));
<a name="l00225"></a>00225   printf(<span class="stringliteral">&quot;\nACC_ACT_INACT_CTL = 0x%02X = %s&quot;</span>, hvalue[11],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+11));
<a name="l00226"></a>00226   printf(<span class="stringliteral">&quot;\nACC_THRESH_FF = 0x%02X = %s&quot;</span>, hvalue[12],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+12));
<a name="l00227"></a>00227   printf(<span class="stringliteral">&quot;\nACC_TIME_FF = 0x%02X = %s&quot;</span>, hvalue[13],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+13));
<a name="l00228"></a>00228   printf(<span class="stringliteral">&quot;\nACC_TAP_AXES = 0x%02X = %s&quot;</span>, hvalue[14],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+14));
<a name="l00229"></a>00229   printf(<span class="stringliteral">&quot;\nACC_ACT_TAP_STATUS = 0x%02X = %s&quot;</span>, hvalue[15],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+15));
<a name="l00230"></a>00230   printf(<span class="stringliteral">&quot;\nACC_BW_RATE = 0x%02X = %s&quot;</span>, hvalue[16],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+16));
<a name="l00231"></a>00231   printf(<span class="stringliteral">&quot;\nACC_POWER_CTL = 0x%02X = %s&quot;</span>, hvalue[17],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+17));
<a name="l00232"></a>00232   printf(<span class="stringliteral">&quot;\nACC_INT_ENABLE = 0x%02X = %s&quot;</span>, hvalue[18],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+18));
<a name="l00233"></a>00233   printf(<span class="stringliteral">&quot;\nACC_INT_MAP = 0x%02X = %s&quot;</span>, hvalue[19],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+19));
<a name="l00234"></a>00234   printf(<span class="stringliteral">&quot;\nACC_INT_SOURCE = 0x%02X = %s&quot;</span>, hvalue[20],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+20));
<a name="l00235"></a>00235   printf(<span class="stringliteral">&quot;\nACC_DATA_FORMAT = 0x%02X = %s&quot;</span>, hvalue1[20],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue1+21));
<a name="l00236"></a>00236   printf(<span class="stringliteral">&quot;\nACC_DATAX0 = 0x%02X = %s&quot;</span>, hvalue1[21],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue1+22));
<a name="l00237"></a>00237   printf(<span class="stringliteral">&quot;\nACC_DATAX1 = 0x%02X = %s&quot;</span>, hvalue1[22],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue1+23));
<a name="l00238"></a>00238   printf(<span class="stringliteral">&quot;\nACC_DATAY0 = 0x%02X = %s&quot;</span>, hvalue1[23],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue1+24));
<a name="l00239"></a>00239   printf(<span class="stringliteral">&quot;\nACC_DATAY1 = 0x%02X = %s&quot;</span>, hvalue1[24],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue1+25));
<a name="l00240"></a>00240   printf(<span class="stringliteral">&quot;\nACC_DATAZ0 = 0x%02X = %s&quot;</span>, hvalue1[25],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue1+26));
<a name="l00241"></a>00241   printf(<span class="stringliteral">&quot;\nACC_DATAZ1 = 0x%02X = %s&quot;</span>, hvalue1[26],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue1+27));
<a name="l00242"></a>00242   printf(<span class="stringliteral">&quot;\nACC_FIFO_CTL = 0x%02X = %s&quot;</span>, hvalue[28],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+28));
<a name="l00243"></a>00243   printf(<span class="stringliteral">&quot;\nACC_FIFO_STATUS = 0x%02X = %s&quot;</span>, hvalue[29],<a class="code" href="acc__functions_8c.html#a1a6b2f719b4fef8f97d6d1b8f495148e">conv_byte_hex_bin</a>(hvalue+29));
<a name="l00244"></a>00244   <span class="keywordflow">return</span> 1;
<a name="l00245"></a>00245 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
</div>
</p>

</div>
</div>
<a class="anchor" id="ga041d6953f2bfc8c5efa4d5bbac812305"></a><!-- doxytag: member="imu_functions.h::acc_read_data" ref="ga041d6953f2bfc8c5efa4d5bbac812305" args="(int i2c_dev, int axis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short int acc_read_data </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i2c_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>axis</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>READ DATA (X, Y or Z). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i2c_dev</em>&nbsp;</td><td>Communication Port </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>axis</em>&nbsp;</td><td>Accelerate's axis to read ('X' or 'Y' or 'Z')</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>Definition at line <a class="el" href="acc__functions_8c_source.html#l00131">131</a> of file <a class="el" href="acc__functions_8c_source.html">acc_functions.c</a>.</p>

<p>References <a class="el" href="imu__regs_8h_source.html#l00032">ACC_DATAX0</a>, <a class="el" href="imu__regs_8h_source.html#l00034">ACC_DATAY0</a>, <a class="el" href="imu__regs_8h_source.html#l00036">ACC_DATAZ0</a>, and <a class="el" href="acc__functions_8c_source.html#l00109">acc_read_reg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00132"></a>00132 {
<a name="l00133"></a>00133   uint8_t *data;
<a name="l00134"></a>00134   <span class="keyword">union </span>result
<a name="l00135"></a>00135   {
<a name="l00136"></a>00136     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> usgnd;
<a name="l00137"></a>00137     <span class="keywordtype">short</span> <span class="keywordtype">int</span> sgnd;
<a name="l00138"></a>00138   }result;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140   <span class="keywordflow">switch</span>(axis){
<a name="l00141"></a>00141     <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:
<a name="l00142"></a>00142       data=<a class="code" href="group__acc.html#ga2a91c44eebbe44f4d3b8c508633512f9" title="READ COUNT 8-BIT REGISTER IN SEQUENCE">acc_read_reg</a>(i2c_dev,<a class="code" href="imu__regs_8h.html#afae448fbad872220013e5c3abf0f3d9f">ACC_DATAX0</a>,2);
<a name="l00143"></a>00143       <span class="keywordflow">break</span>;
<a name="l00144"></a>00144     <span class="keywordflow">case</span> <span class="charliteral">&#39;Y&#39;</span>:
<a name="l00145"></a>00145       data=<a class="code" href="group__acc.html#ga2a91c44eebbe44f4d3b8c508633512f9" title="READ COUNT 8-BIT REGISTER IN SEQUENCE">acc_read_reg</a>(i2c_dev,<a class="code" href="imu__regs_8h.html#a6aa168a0f3e35bfee4da87c32dcb4b46">ACC_DATAY0</a>,2);
<a name="l00146"></a>00146       <span class="keywordflow">break</span>;
<a name="l00147"></a>00147     <span class="keywordflow">case</span> <span class="charliteral">&#39;Z&#39;</span>:
<a name="l00148"></a>00148       data=<a class="code" href="group__acc.html#ga2a91c44eebbe44f4d3b8c508633512f9" title="READ COUNT 8-BIT REGISTER IN SEQUENCE">acc_read_reg</a>(i2c_dev,<a class="code" href="imu__regs_8h.html#ab87ce2339aeb4adb7fb71daa80f3bc68">ACC_DATAZ0</a>,2);
<a name="l00149"></a>00149       <span class="keywordflow">break</span>;
<a name="l00150"></a>00150     <span class="keywordflow">default</span>:
<a name="l00151"></a>00151       <span class="comment">//perror(&quot;Wrong argument for axis in acc_read_data&quot;);</span>
<a name="l00152"></a>00152       <span class="keywordflow">return</span> -1;
<a name="l00153"></a>00153   }
<a name="l00154"></a>00154   result.usgnd=0;
<a name="l00155"></a>00155   result.usgnd=result.usgnd|(((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> int)data[0]))|(((<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span>)data[1])&lt;&lt;8);
<a name="l00156"></a>00156   <span class="keywordflow">return</span> result.sgnd;
<a name="l00157"></a>00157 }
</pre></div></p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2a91c44eebbe44f4d3b8c508633512f9"></a><!-- doxytag: member="imu_functions.h::acc_read_reg" ref="ga2a91c44eebbe44f4d3b8c508633512f9" args="(int i2c_dev, uint8_t reg, uint8_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* acc_read_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i2c_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>READ COUNT 8-BIT REGISTER IN SEQUENCE </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i2c_dev</em>&nbsp;</td><td>Communication Port </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>reg</em>&nbsp;</td><td>Register </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td>Number of register in sequence (1-29)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Data of register or NULL in case of any problem. </dd></dl>

<p>Definition at line <a class="el" href="acc__functions_8c_source.html#l00109">109</a> of file <a class="el" href="acc__functions_8c_source.html">acc_functions.c</a>.</p>

<p>Referenced by <a class="el" href="acc__functions_8c_source.html#l00159">acc_read_all_data()</a>, <a class="el" href="acc__functions_8c_source.html#l00196">acc_read_all_reg()</a>, and <a class="el" href="acc__functions_8c_source.html#l00131">acc_read_data()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00110"></a>00110 {
<a name="l00111"></a>00111   uint8_t data[29];
<a name="l00112"></a>00112   <span class="keywordtype">int</span> i;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114   <span class="comment">//data=(uint8_t*)malloc((count+1)*sizeof(data));</span>
<a name="l00115"></a>00115   
<a name="l00116"></a>00116   data[0] = reg;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118   <span class="keywordflow">if</span> ((write(i2c_dev, &amp;data, 1)) != 1) {                 
<a name="l00119"></a>00119         <span class="comment">//perror(&quot;write before read&quot;);</span>
<a name="l00120"></a>00120         <span class="keywordflow">return</span> NULL;
<a name="l00121"></a>00121   }
<a name="l00122"></a>00122   data[0] = 0;
<a name="l00123"></a>00123   <span class="keywordflow">if</span> ((read(i2c_dev, &amp;data, count)) != count) {
<a name="l00124"></a>00124         <span class="comment">//perror(&quot;read&quot;);</span>
<a name="l00125"></a>00125         <span class="keywordflow">return</span> NULL;    
<a name="l00126"></a>00126   }
<a name="l00127"></a>00127 
<a name="l00128"></a>00128   <span class="keywordflow">return</span> data;
<a name="l00129"></a>00129 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
</div>
</p>

</div>
</div>
<a class="anchor" id="ga534116416343122de29a5b6ade6876bd"></a><!-- doxytag: member="imu_functions.h::acc_write_reg" ref="ga534116416343122de29a5b6ade6876bd" args="(int i2c_dev, uint8_t reg, uint8_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int acc_write_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i2c_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>WRITE TO REGISTER. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i2c_dev</em>&nbsp;</td><td>Communication Port </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>reg</em>&nbsp;</td><td>Register </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Data to write </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="acc__functions_8c_source.html#l00087">87</a> of file <a class="el" href="acc__functions_8c_source.html">acc_functions.c</a>.</p>

<p>References <a class="el" href="imu__regs_8h_source.html#l00025">ACC_ACT_TAP_STATUS</a>, <a class="el" href="imu__regs_8h_source.html#l00032">ACC_DATAX0</a>, <a class="el" href="imu__regs_8h_source.html#l00033">ACC_DATAX1</a>, <a class="el" href="imu__regs_8h_source.html#l00034">ACC_DATAY0</a>, <a class="el" href="imu__regs_8h_source.html#l00035">ACC_DATAY1</a>, <a class="el" href="imu__regs_8h_source.html#l00036">ACC_DATAZ0</a>, <a class="el" href="imu__regs_8h_source.html#l00037">ACC_DATAZ1</a>, <a class="el" href="imu__regs_8h_source.html#l00010">ACC_DEVID</a>, <a class="el" href="imu__regs_8h_source.html#l00039">ACC_FIFO_STATUS</a>, <a class="el" href="imu__regs_8h_source.html#l00030">ACC_INT_SOURCE</a>, <a class="el" href="calibration_2calibration_8h_source.html#l00007">FAILURE</a>, and <a class="el" href="calibration_2calibration_8h_source.html#l00006">SUCCESS</a>.</p>

<p>Referenced by <a class="el" href="acc__functions_8c_source.html#l00011">acc_init()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00088"></a>00088 {
<a name="l00089"></a>00089   uint8_t reg_data[2];
<a name="l00090"></a>00090 
<a name="l00091"></a>00091   reg_data[0] = reg;
<a name="l00092"></a>00092   reg_data[1] = data;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094   <span class="keywordflow">if</span>( reg==<a class="code" href="imu__regs_8h.html#a007fa8d8ef9d89127ae5da32a2f42283">ACC_DEVID</a> || reg==<a class="code" href="imu__regs_8h.html#a823b94e47b6d728fdf91d386d69db3e9">ACC_ACT_TAP_STATUS</a> || reg==<a class="code" href="imu__regs_8h.html#a7f9415e11f76d0666b842a875f5f5fd8">ACC_INT_SOURCE</a> || reg==<a class="code" href="imu__regs_8h.html#acb0760254230c73d4744bae2059e7367">ACC_FIFO_STATUS</a> ||
<a name="l00095"></a>00095       reg==<a class="code" href="imu__regs_8h.html#afae448fbad872220013e5c3abf0f3d9f">ACC_DATAX0</a> || reg==<a class="code" href="imu__regs_8h.html#a63d0e7c719fabce83422ef9856302129">ACC_DATAX1</a> || reg==<a class="code" href="imu__regs_8h.html#a6aa168a0f3e35bfee4da87c32dcb4b46">ACC_DATAY0</a> || reg==<a class="code" href="imu__regs_8h.html#a587970363cd2aeb2535ac314e98a2825">ACC_DATAY1</a> || reg==<a class="code" href="imu__regs_8h.html#ab87ce2339aeb4adb7fb71daa80f3bc68">ACC_DATAZ0</a> || reg==<a class="code" href="imu__regs_8h.html#afa9ea1f66d9d28dbb328498d6f7fa43d">ACC_DATAZ1</a>)
<a name="l00096"></a>00096   {
<a name="l00097"></a>00097       perror(<span class="stringliteral">&quot;Write unsucessful: Read-Only Register&quot;</span>);
<a name="l00098"></a>00098       <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>;
<a name="l00099"></a>00099   }
<a name="l00100"></a>00100         
<a name="l00101"></a>00101   <span class="keywordflow">if</span> ((write(i2c_dev, &amp;reg_data, 2)) != 2) {             
<a name="l00102"></a>00102           perror(<span class="stringliteral">&quot;Write unsuccessful&quot;</span>);
<a name="l00103"></a>00103           <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#a6d58f9ac447476b4e084d7ca383f5183">FAILURE</a>;
<a name="l00104"></a>00104   }
<a name="l00105"></a>00105 
<a name="l00106"></a>00106   <span class="keywordflow">return</span> <a class="code" href="calibration_2calibration_8h.html#aa90cac659d18e8ef6294c7ae337f6b58">SUCCESS</a>;
<a name="l00107"></a>00107 }
</pre></div></p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
</div>
</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Dec 4 12:19:24 2013 for Rleg by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
